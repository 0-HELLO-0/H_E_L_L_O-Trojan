// _worker.src.js
import { connect } from "cloudflare:sockets";
let password = '';
let proxyIP = '';
// The user name and password do not contain special characters
// Setting the address will ignore proxyIP
// Example:  user:pass@host:port  or  host:port
let socks5Address = '';

let addresses = [
	//当sub为空时启用本地优选域名/优选IP，若不带端口号 TLS默认端口为443，#号后为备注别名
];

let sub = ''; 
let subconverter = 'SUBAPI.fxxk.dedyn.io';// clash订阅转换后端，目前使用CM的订阅转换功能。自带虚假节点信息防泄露
let subconfig = "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Mini_MultiMode.ini"; //订阅配置文件
let subProtocol = 'https';
let RproxyIP = 'false';

let addressesapi = [];
let addressescsv = [];
let DLS = 8;

let FileName = 'epeius';
let BotToken ='';
let ChatID =''; 
let proxyhosts = [];//本地代理域名池
let proxyhostsURL = '';
let go2Socks5s = [
	'*ttvnw.net',
	'*tapecontent.net',
	'*cloudatacdn.com',
	'*.loadshare.org',
];

let fakeUserID ;
let fakeHostName ;
let proxyIPs ;
let socks5s;
let sha224Password ;
const expire = 4102329600;//2099-12-31
const regex = /^(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\[.*\]):?(\d+)?#?(.*)?$/;

let parsedSocks5Address = {}; 
let enableSocks = false;
let httpsPorts = ["2053","2083","2087","2096","8443"];
/*Obfuscate-cmliu*/
/*
if (!isValidSHA224(sha224Password)) {
	throw new Error('sha224Password is not valid');
}
*/
function _0x2816(_0xc3d051,_0x1b5c21){const _0x2cbf26=_0x2cbf();return _0x2816=function(_0x281697,_0x450391){_0x281697=_0x281697-0x1c8;let _0x6e143e=_0x2cbf26[_0x281697];return _0x6e143e;},_0x2816(_0xc3d051,_0x1b5c21);}const _0x36e9ff=_0x2816;(function(_0x8acf80,_0x44fe70){const _0x2c8b15=_0x2816,_0x5084a7=_0x8acf80();while(!![]){try{const _0x39a779=parseInt(_0x2c8b15(0x20b))/0x1*(-parseInt(_0x2c8b15(0x233))/0x2)+-parseInt(_0x2c8b15(0x227))/0x3*(-parseInt(_0x2c8b15(0x220))/0x4)+-parseInt(_0x2c8b15(0x2e4))/0x5+parseInt(_0x2c8b15(0x24f))/0x6+parseInt(_0x2c8b15(0x26d))/0x7+-parseInt(_0x2c8b15(0x293))/0x8*(parseInt(_0x2c8b15(0x25f))/0x9)+-parseInt(_0x2c8b15(0x2df))/0xa;if(_0x39a779===_0x44fe70)break;else _0x5084a7['push'](_0x5084a7['shift']());}catch(_0x36eba0){_0x5084a7['push'](_0x5084a7['shift']());}}}(_0x2cbf,0x78d6c));export default{async 'fetch'(_0x27e1d6,_0x145339,_0x3a5d97){const _0x199f4f=_0x2816;try{const _0x59ab05=_0x27e1d6['headers'][_0x199f4f(0x223)](_0x199f4f(0x259))||'null',_0x57e14e=_0x59ab05[_0x199f4f(0x27f)]();password=_0x145339[_0x199f4f(0x1f4)]||password;if(!password)return new Response(_0x199f4f(0x21a),{'status':0x194,'headers':{'Content-Type':_0x199f4f(0x1df)}});sha224Password=_0x145339[_0x199f4f(0x2c8)]||_0x145339[_0x199f4f(0x2f3)]||sha256['sha224'](password);const _0x279b82=new Date();_0x279b82[_0x199f4f(0x248)](0x0,0x0,0x0,0x0);const _0x3d16e4=Math[_0x199f4f(0x2d2)](_0x279b82['getTime']()/0x3e8),_0x3f24d9=await MD5MD5(''+password+_0x3d16e4);fakeUserID=_0x3f24d9[_0x199f4f(0x1e2)](0x0,0x8)+'-'+_0x3f24d9[_0x199f4f(0x1e2)](0x8,0xc)+'-'+_0x3f24d9['slice'](0xc,0x10)+'-'+_0x3f24d9[_0x199f4f(0x1e2)](0x10,0x14)+'-'+_0x3f24d9[_0x199f4f(0x1e2)](0x14),fakeHostName=_0x3f24d9[_0x199f4f(0x1e2)](0x6,0x9)+'.'+_0x3f24d9[_0x199f4f(0x1e2)](0xd,0x13),proxyIP=_0x145339['PROXYIP']||proxyIP,proxyIPs=await ADD(proxyIP),proxyIP=proxyIPs[Math[_0x199f4f(0x270)](Math[_0x199f4f(0x27b)]()*proxyIPs[_0x199f4f(0x1fa)])],socks5Address=_0x145339[_0x199f4f(0x283)]||socks5Address,socks5s=await ADD(socks5Address),socks5Address=socks5s[Math['floor'](Math[_0x199f4f(0x27b)]()*socks5s[_0x199f4f(0x1fa)])],socks5Address=socks5Address[_0x199f4f(0x22a)]('//')[0x1]||socks5Address;if(_0x145339[_0x199f4f(0x1ea)])httpsPorts=await ADD(_0x145339[_0x199f4f(0x1ea)]);sub=_0x145339[_0x199f4f(0x2d8)]||sub,subconverter=_0x145339[_0x199f4f(0x1da)]||subconverter;subconverter['includes'](_0x199f4f(0x204))?(subconverter=subconverter['split']('//')[0x1],subProtocol=_0x199f4f(0x1ca)):subconverter=subconverter[_0x199f4f(0x22a)]('//')[0x1]||subconverter;subconfig=_0x145339[_0x199f4f(0x1c8)]||subconfig;if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),RproxyIP=_0x145339[_0x199f4f(0x280)]||'false',enableSocks=!![];}catch(_0x351d66){let _0x42a024=_0x351d66;console[_0x199f4f(0x271)](_0x42a024[_0x199f4f(0x27e)]()),RproxyIP=_0x145339[_0x199f4f(0x280)]||!proxyIP?_0x199f4f(0x1db):_0x199f4f(0x208),enableSocks=![];}else RproxyIP=_0x145339[_0x199f4f(0x280)]||!proxyIP?'true':'false';if(_0x145339[_0x199f4f(0x2c0)])addresses=await ADD(_0x145339[_0x199f4f(0x2c0)]);if(_0x145339['ADDAPI'])addressesapi=await ADD(_0x145339[_0x199f4f(0x29b)]);if(_0x145339[_0x199f4f(0x24c)])addressescsv=await ADD(_0x145339[_0x199f4f(0x24c)]);DLS=_0x145339[_0x199f4f(0x1e3)]||DLS,BotToken=_0x145339['TGTOKEN']||BotToken,ChatID=_0x145339[_0x199f4f(0x299)]||ChatID;if(_0x145339[_0x199f4f(0x304)])go2Socks5s=await ADD(_0x145339['GO2SOCKS5']);const _0x383d83=_0x27e1d6[_0x199f4f(0x278)][_0x199f4f(0x223)](_0x199f4f(0x2ee)),_0x378fb6=new URL(_0x27e1d6[_0x199f4f(0x2b7)]);if(_0x378fb6[_0x199f4f(0x2b3)][_0x199f4f(0x2cd)](_0x199f4f(0x2b1))&&_0x378fb6['searchParams'][_0x199f4f(0x223)]('sub')!=='')sub=_0x378fb6['searchParams'][_0x199f4f(0x223)](_0x199f4f(0x2b1));FileName=_0x145339[_0x199f4f(0x2d9)]||FileName;if(!_0x383d83||_0x383d83!==_0x199f4f(0x254))switch(_0x378fb6['pathname']){case'/':if(_0x145339[_0x199f4f(0x273)])return Response[_0x199f4f(0x23c)](_0x145339[_0x199f4f(0x273)],0x12e);else{if(_0x145339[_0x199f4f(0x228)])return await proxyURL(_0x145339[_0x199f4f(0x228)],_0x378fb6);else return new Response(JSON[_0x199f4f(0x26b)](_0x27e1d6['cf'],null,0x4),{'status':0xc8,'headers':{'content-type':'application/json'}});}case'/'+fakeUserID:const _0x126e3a=await getTrojanConfig(password,_0x27e1d6['headers'][_0x199f4f(0x223)](_0x199f4f(0x27c)),sub,_0x199f4f(0x21c),RproxyIP,_0x378fb6);return new Response(''+_0x126e3a,{'status':0xc8});case'/'+password:await sendMessage(_0x199f4f(0x28a)+FileName,_0x27e1d6[_0x199f4f(0x278)][_0x199f4f(0x223)](_0x199f4f(0x2fe)),_0x199f4f(0x22e)+_0x59ab05+_0x199f4f(0x2e0)+_0x378fb6['hostname']+_0x199f4f(0x2bc)+(_0x378fb6['pathname']+_0x378fb6[_0x199f4f(0x2da)])+_0x199f4f(0x1f3));const _0x18a114=await getTrojanConfig(password,_0x27e1d6[_0x199f4f(0x278)][_0x199f4f(0x223)](_0x199f4f(0x27c)),sub,_0x59ab05,RproxyIP,_0x378fb6),_0x484cae=Date['now'](),_0x501b36=new Date(_0x484cae);_0x501b36[_0x199f4f(0x248)](0x0,0x0,0x0,0x0);const _0x2fd313=Math[_0x199f4f(0x270)]((_0x484cae-_0x501b36['getTime']())/0x5265c00*0x18*0x10000000000/0x2);let _0x390264=_0x2fd313,_0x4aeb6b=_0x2fd313,_0x1e215e=0x18*0x10000000000;return _0x57e14e&&(_0x57e14e[_0x199f4f(0x1e4)](_0x199f4f(0x1d0))||_0x57e14e['includes'](_0x199f4f(0x216)))?new Response(''+_0x18a114,{'status':0xc8,'headers':{'Content-Type':_0x199f4f(0x1df),'Profile-Update-Interval':'6','Subscription-Userinfo':'upload='+_0x390264+_0x199f4f(0x1d6)+_0x4aeb6b+_0x199f4f(0x264)+_0x1e215e+_0x199f4f(0x253)+expire}}):new Response(''+_0x18a114,{'status':0xc8,'headers':{'Content-Disposition':_0x199f4f(0x309)+FileName+_0x199f4f(0x1fd)+encodeURIComponent(FileName),'Content-Type':_0x199f4f(0x1df),'Profile-Update-Interval':'6','Subscription-Userinfo':'upload='+_0x390264+_0x199f4f(0x1d6)+_0x4aeb6b+_0x199f4f(0x264)+_0x1e215e+_0x199f4f(0x253)+expire}});default:if(_0x145339[_0x199f4f(0x273)])return Response['redirect'](_0x145339[_0x199f4f(0x273)],0x12e);else{if(_0x145339[_0x199f4f(0x228)])return await proxyURL(_0x145339[_0x199f4f(0x228)],_0x378fb6);else return new Response(_0x199f4f(0x23d),{'status':0x194});}}else{proxyIP=_0x378fb6[_0x199f4f(0x2b3)]['get'](_0x199f4f(0x281))||proxyIP;if(new RegExp(_0x199f4f(0x1ec),'i')[_0x199f4f(0x2ce)](_0x378fb6[_0x199f4f(0x24b)]))proxyIP=_0x378fb6['pathname']['toLowerCase']()[_0x199f4f(0x22a)](_0x199f4f(0x1ec))[0x1];else{if(new RegExp(_0x199f4f(0x237),'i')[_0x199f4f(0x2ce)](_0x378fb6['pathname']))proxyIP=_0x199f4f(0x26f)+_0x378fb6[_0x199f4f(0x24b)]['toLowerCase']()[_0x199f4f(0x22a)]('/proxyip.')[0x1];}socks5Address=_0x378fb6['searchParams'][_0x199f4f(0x223)](_0x199f4f(0x1fb))||socks5Address;if(new RegExp(_0x199f4f(0x28d),'i')[_0x199f4f(0x2ce)](_0x378fb6[_0x199f4f(0x24b)]))socks5Address=_0x378fb6[_0x199f4f(0x24b)][_0x199f4f(0x22a)]('5=')[0x1];else{if(new RegExp('/socks://','i')['test'](_0x378fb6[_0x199f4f(0x24b)])||new RegExp(_0x199f4f(0x2b2),'i')[_0x199f4f(0x2ce)](_0x378fb6[_0x199f4f(0x24b)])){socks5Address=_0x378fb6[_0x199f4f(0x24b)][_0x199f4f(0x22a)]('://')[0x1][_0x199f4f(0x22a)]('#')[0x0];if(socks5Address[_0x199f4f(0x1e4)]('@')){let _0x49ad64=socks5Address[_0x199f4f(0x22a)]('@')[0x0];const _0x492024=/^(?:[A-Z0-9+/]{4})*(?:[A-Z0-9+/]{2}==|[A-Z0-9+/]{3}=)?$/i;if(_0x492024[_0x199f4f(0x2ce)](_0x49ad64)&&!_0x49ad64['includes'](':'))_0x49ad64=atob(_0x49ad64);socks5Address=_0x49ad64+'@'+socks5Address[_0x199f4f(0x22a)]('@')[0x1];}}}if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),enableSocks=!![];}catch(_0x258275){let _0x6c1a94=_0x258275;console['log'](_0x6c1a94[_0x199f4f(0x27e)]()),enableSocks=![];}else enableSocks=![];return await trojanOverWSHandler(_0x27e1d6);}}catch(_0x37133f){let _0x49a423=_0x37133f;return new Response(_0x49a423[_0x199f4f(0x27e)]());}}};async function trojanOverWSHandler(_0x3105b0){const _0x2b63d7=_0x2816,_0x136dbf=new WebSocketPair(),[_0x32b8e2,_0x10b616]=Object['values'](_0x136dbf);_0x10b616[_0x2b63d7(0x296)]();let _0x5f0d0f='',_0x24feb6='';const _0x3c4abe=(_0x2fffe9,_0x4633f4)=>{const _0x15b425=_0x2b63d7;console[_0x15b425(0x271)]('['+_0x5f0d0f+':'+_0x24feb6+']\x20'+_0x2fffe9,_0x4633f4||'');},_0x27e7da=_0x3105b0[_0x2b63d7(0x278)][_0x2b63d7(0x223)](_0x2b63d7(0x215))||'',_0x1cd190=makeReadableWebSocketStream(_0x10b616,_0x27e7da,_0x3c4abe);let _0x309713={'value':null},_0x102bd4=null;return _0x1cd190['pipeTo'](new WritableStream({async 'write'(_0x2ba1c8,_0x15119b){const _0x54d93f=_0x2b63d7;if(_0x102bd4)return _0x102bd4(_0x2ba1c8);if(_0x309713[_0x54d93f(0x201)]){const _0x1d29a8=_0x309713[_0x54d93f(0x201)][_0x54d93f(0x1c9)][_0x54d93f(0x1ed)]();await _0x1d29a8[_0x54d93f(0x297)](_0x2ba1c8),_0x1d29a8[_0x54d93f(0x1e6)]();return;}const {hasError:_0x2461a0,message:_0xcd72b6,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawClientData:_0x386162,addressType:_0x23373c}=await parseTrojanHeader(_0x2ba1c8);_0x5f0d0f=addressRemote,_0x24feb6=portRemote+'--'+Math['random']()+_0x54d93f(0x29f);if(_0x2461a0){throw new Error(_0xcd72b6);return;}handleTCPOutBound(_0x309713,addressRemote,portRemote,_0x386162,_0x10b616,_0x3c4abe,_0x23373c);},'close'(){_0x3c4abe('readableWebSocketStream\x20is\x20closed');},'abort'(_0x19dc2f){const _0x3c3ba7=_0x2b63d7;_0x3c4abe('readableWebSocketStream\x20is\x20aborted',JSON[_0x3c3ba7(0x26b)](_0x19dc2f));}}))[_0x2b63d7(0x263)](_0x3f6776=>{const _0x187c2a=_0x2b63d7;_0x3c4abe(_0x187c2a(0x1eb),_0x3f6776);}),new Response(null,{'status':0x65,'webSocket':_0x32b8e2});}function _0x2cbf(){const _0x558571=['443','YWxsIGlu','buffer','/?ed=2560','GO2SOCKS5','fulfilled','\x0a\x20\x20','\x0aSHA224:\x20','getUint8','attachment;\x20filename=','error','SUBCONFIG','writable','http','enqueue','push','&sni=','Error:\x20fetch\x20is\x20not\x20available\x20in\x20this\x20environment.','sha256','mozilla','\x0a国家:\x20','0123456789abcdef','\x0aFAKEPASS:\x20','2096','dGVsZWdyYW0g5Lqk5rWB576kIOaKgOacr+Wkp+S9rH7lnKjnur/lj5HniYwhCmh0dHBzOi8vdC5tZS9DTUxpdXNzc3MKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmdpdGh1YiDpobnnm67lnLDlnYAgU3RhciFTdGFyIVN0YXIhISEKaHR0cHM6Ly9naXRodWIuY29tL2NtbGl1L2VwZWl1cwotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw==',';\x20download=','sha224','JS_SHA256_NO_NODE_JS','webSocketServer\x20error','SUBAPI','true','utf8','text/html,application/xhtml+xml,application/xml;','concat','text/plain;charset=utf-8','nekobox','2053','slice','DLS','includes',',\x20sni:\x20','releaseLock','ADDCSV（IPTest测速csv文件\x20限速\x20','arrayBuffer','&host=','CFPORTS','readableWebSocketStream\x20pipeTo\x20error','/proxyip=','getWriter','&pw=','?sub\x0a\x0aBase64订阅地址:\x0ahttps://','JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW','invalid\x20header\x20format\x20(missing\x20CR\x20LF)','substring','</tg-spoiler>','PASSWORD','base64','flatMap','no\x20acceptable\x20methods','encode','skip-cert-verify=true,\x20tfo=false,\x20udp-relay=false','length','socks5','获取地址时出错:',';\x20filename*=utf-8\x27\x27','dHJvamFu','socks\x20server\x20needs\x20auth','/sub?target=clash&url=','value','?base64\x0a\x0aclash订阅地址:\x0ahttps://','\x0a组织:\x20','http://','}}}','oKeyPad','&insert=false&config=','false','lastByteIndex','.tp','47EigJEN','Surge订阅地址:\x0ahttps://','statusText','CFCDN（访问方式）:\x20Socks5\x0a\x20\x20',',\x20ws-opts:\x20{path:\x20\x22','&parse_mode=HTML&text=','JmVwZWl1cz1jbWxpdSZwcm94eWlwPQ==','call','exports','Buffer','sec-websocket-protocol','subconverter','Error\x20fetching\x20content:','addEventListener','\x0aSUB（优选订阅生成器）:\x20','请设置你的PASSWORD变量，或尝试重试部署，检查变量是否生效？','from','CF-Workers-SUB','close','digest','X-New-URL','1703516YrzGxx','remoteSocketToWS\x20error:','readyState','get','hashed','\x22,\x20tfo=false,\x20udp-relay=false','string','3otFDdx','URL',',\x20udp:\x20false,\x20client-fingerprint:\x20','split','object','start','pow','UA:\x20','%E6%89%80%E6%9C%89%E6%B5%81%E9%87%8F','\x0ahttps://','create','charCodeAt','2854eQaRmn','input\x20is\x20invalid\x20type','createHash','charAt','/proxyip.','\x20已启用临时域名中转服务，请尽快绑定自定义域！','join','org','filter','redirect','不用怀疑！你PASSWORD就是错的！！！','clash','indexOf','randomized','gzip,\x20deflate,\x20br','Mozilla/5.0\x20Chrome/90.0.4430.72','103.21.244.0/23','entries','hostname',',\x20alpn:\x20[h3],\x20skip-cert-verify:\x20true,\x20network:\x20','hex','setHours','104.16.0.0/14','/sub?host=','pathname','ADDCSV','127.0.0.1:1234#CFnat','hmac','2636730tlZndO','JS_SHA256_NO_COMMON_JS','getReader','sing-box',';\x20expire=','websocket','readableStream\x20was\x20canceled,\x20due\x20to\x20','://','finalize','readable','User-Agent','text','\x0a---------------------------------------------------------------\x0a################################################################\x0av2ray\x0a---------------------------------------------------------------\x0a','sni=','finalized','inner','9ZUYZPU','2087','\x0a<tg-spoiler>城市:\x20','signal','catch',';\x20total=','node','update','prototype','?lang=zh-CN','\x20配置信息\x0a---------------------------------------------------------------\x0aHOST:\x20','singbox','stringify','http://ip-api.com/json/','2048389sEdVww','?sb\x0ahttps://','proxyip.','floor','log','padStart','URL302','data','\x0a---------------------------------------------------------------\x0a################################################################\x0a','\x0a################################################################\x0aSubscribe\x20/\x20sub\x20订阅地址,\x20支持\x20Base64、clash-meta、sing-box\x20订阅格式\x0a---------------------------------------------------------------\x0a快速自适应订阅地址:\x0ahttps://','blocks','headers','MD5','获取CSV地址时出错:','random','Host','invalid\x20addressType\x20is\x20','toString','toLowerCase','RPROXYIP','proxyip','decode','SOCKS5','chromeBugWorkAround','pop','safeCloseWebSocket\x20error','constructor','&fp=randomized&type=ws&host=',',\x20port:\x20','#获取订阅\x20','crypto','json','/socks5=','=\x20trojan,','isArray','bytes','amd','invalid\x20password','1829704oyLYjP','https://','\x0aSUBCONFIG（订阅转换配置文件）:\x20','accept','write','?b64\x0ahttps://','TGID','hBytes','ADDAPI','\x0aIP:\x20','?surge','connected\x20to\x20','\x20tcp','ADD（TLS优选域名&IP）:\x20\x0a\x20\x20','address\x20is\x20empty,\x20addressType\x20is\x20','subtle','\x0a您的订阅内容由\x20内置\x20addresses/ADD*\x20参数变量提供\x0a','172.64.0.0/14','.workers.dev','versions','set','JS_SHA256_NO_BUFFER_FROM','/sub?target=singbox&url=','sent\x20socks\x20greeting','invalid\x20data','first','&alpn=h3&fp=','block','2083','188.114.96.0/21','sub','/socks5://','searchParams','invalid\x20SOCKS5\x20request\x20data','?security=tls&sni=','Q0YtV29ya2Vycy1lcGVpdXMvY21saXU=','url','&path=','then','webSocket\x20connection\x20is\x20not\x20open','141.101.64.0/19','\x0a<tg-spoiler>入口:\x20','abort','8443','SOCKS5%EF%BC%88%E7%99%BD%E5%90%8D%E5%8D%95%EF%BC%89%3A%20','ADD','&emoji=true&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true','Kg==','CSV文件缺少必需的字段',':443','please\x20provide\x20username/password','\x0aUA:\x20','find','SHA224','is224','status','read','proxyip=true','has','test','undefined','array','\x0aPASSWORD:\x20','ceil','CFCDN（访问方式）:\x20无法访问,\x20需要您设置\x20proxyIP/PROXYIP\x20！！！\x0a','JS_SHA256_NO_ARRAY_BUFFER','replace','toUpperCase','isView','SUB','SUBNAME','search','[object\x20Array]','getUint16','Invalid\x20SOCKS\x20address\x20format','byteLength','1585560JjKsmc','</tg-spoiler>\x0a域名:\x20','some','setUint32',',\x20password:\x20','1043335MnZfVI','stack','remoteSocket.readable\x20is\x20closed,\x20hasIncomingData:\x20','match','fail\x20to\x20open\x20socks\x20connection','allSettled','map','sent\x20socks\x20request','country','retry\x20tcpSocket\x20closed\x20error','Upgrade','city','retry','104.24.0.0/15','hash','SHA224PASS','104.24.0.0/14','body','&password=','TLS','&proxyip=','message','/sub?target=surge&ver=4&url=','finally','surge','104.16.0.0/13','CF-Connecting-IP','&allowInsecure=1&type='];_0x2cbf=function(){return _0x558571;};return _0x2cbf();}async function parseTrojanHeader(_0xac2e48){const _0x538f4f=_0x2816;if(_0xac2e48[_0x538f4f(0x2de)]<0x38)return{'hasError':!![],'message':_0x538f4f(0x2ab)};let _0x10854c=0x38;if(new Uint8Array(_0xac2e48[_0x538f4f(0x1e2)](0x38,0x39))[0x0]!==0xd||new Uint8Array(_0xac2e48['slice'](0x39,0x3a))[0x0]!==0xa)return{'hasError':!![],'message':_0x538f4f(0x1f1)};const _0x1aa911=new TextDecoder()[_0x538f4f(0x282)](_0xac2e48[_0x538f4f(0x1e2)](0x0,_0x10854c));if(_0x1aa911!==sha224Password)return{'hasError':!![],'message':_0x538f4f(0x292)};const _0x470720=_0xac2e48[_0x538f4f(0x1e2)](_0x10854c+0x2);if(_0x470720[_0x538f4f(0x2de)]<0x6)return{'hasError':!![],'message':_0x538f4f(0x2b4)};const _0x7ef05a=new DataView(_0x470720),_0x467ad3=_0x7ef05a[_0x538f4f(0x308)](0x0);if(_0x467ad3!==0x1)return{'hasError':!![],'message':'unsupported\x20command,\x20only\x20TCP\x20(CONNECT)\x20is\x20allowed'};const _0x2cbd38=_0x7ef05a[_0x538f4f(0x308)](0x1);let _0xb8cef4=0x0,_0x4e96a4=0x2,_0xbabcc7='';switch(_0x2cbd38){case 0x1:_0xb8cef4=0x4,_0xbabcc7=new Uint8Array(_0x470720[_0x538f4f(0x1e2)](_0x4e96a4,_0x4e96a4+_0xb8cef4))[_0x538f4f(0x239)]('.');break;case 0x3:_0xb8cef4=new Uint8Array(_0x470720['slice'](_0x4e96a4,_0x4e96a4+0x1))[0x0],_0x4e96a4+=0x1,_0xbabcc7=new TextDecoder()[_0x538f4f(0x282)](_0x470720[_0x538f4f(0x1e2)](_0x4e96a4,_0x4e96a4+_0xb8cef4));break;case 0x4:_0xb8cef4=0x10;const _0x2da546=new DataView(_0x470720[_0x538f4f(0x1e2)](_0x4e96a4,_0x4e96a4+_0xb8cef4)),_0x4fa694=[];for(let _0x4f29ca=0x0;_0x4f29ca<0x8;_0x4f29ca++){_0x4fa694[_0x538f4f(0x1cc)](_0x2da546[_0x538f4f(0x2dc)](_0x4f29ca*0x2)[_0x538f4f(0x27e)](0x10));}_0xbabcc7=_0x4fa694[_0x538f4f(0x239)](':');break;default:return{'hasError':!![],'message':_0x538f4f(0x27d)+_0x2cbd38};}if(!_0xbabcc7)return{'hasError':!![],'message':_0x538f4f(0x2a1)+_0x2cbd38};const _0x2eeeba=_0x4e96a4+_0xb8cef4,_0x3f9f69=_0x470720[_0x538f4f(0x1e2)](_0x2eeeba,_0x2eeeba+0x2),_0x596d94=new DataView(_0x3f9f69)[_0x538f4f(0x2dc)](0x0);return{'hasError':![],'addressRemote':_0xbabcc7,'portRemote':_0x596d94,'rawClientData':_0x470720[_0x538f4f(0x1e2)](_0x2eeeba+0x4),'addressType':_0x2cbd38};}async function handleTCPOutBound(_0x439896,_0x3da36a,_0x5624c6,_0x4043ff,_0x4fa7b6,_0x370e8a,_0x15a9c8){async function _0x2787ba(_0x17edc5){const _0x46ad3d=_0x2816;if(go2Socks5s[_0x46ad3d(0x1e4)](atob(_0x46ad3d(0x301)))||go2Socks5s[_0x46ad3d(0x1e4)](atob(_0x46ad3d(0x2c2))))return!![];return go2Socks5s[_0x46ad3d(0x2e1)](_0x1a5140=>{const _0xe80347=_0x46ad3d;let _0x5bc7e4=_0x1a5140['replace'](/\*/g,'.*'),_0x7b46b9=new RegExp('^'+_0x5bc7e4+'$','i');return _0x7b46b9[_0xe80347(0x2ce)](_0x17edc5);});}async function _0x2daa42(_0x173f3e,_0xbbe123,_0x5dd7eb=![]){const _0x31a94c=_0x2816;_0x370e8a(_0x31a94c(0x29e)+_0x173f3e+':'+_0xbbe123);const _0x72b4a5=_0x5dd7eb?await socks5Connect(_0x15a9c8,_0x173f3e,_0xbbe123,_0x370e8a):connect({'hostname':_0x173f3e,'port':_0xbbe123});_0x439896['value']=_0x72b4a5;const _0x4d17c1=_0x72b4a5['writable'][_0x31a94c(0x1ed)]();return await _0x4d17c1[_0x31a94c(0x297)](_0x4043ff),_0x4d17c1[_0x31a94c(0x1e6)](),_0x72b4a5;}async function _0x2206e5(){const _0x9a8e55=_0x2816;if(enableSocks)_0x4ef2ec=await _0x2daa42(_0x3da36a,_0x5624c6,!![]);else{if(!proxyIP||proxyIP=='')proxyIP=atob('UFJPWFlJUC50cDEuZnh4ay5kZWR5bi5pbw==');else{if(proxyIP[_0x9a8e55(0x1e4)](']:'))_0x5624c6=proxyIP[_0x9a8e55(0x22a)](']:')[0x1]||_0x5624c6,proxyIP=proxyIP[_0x9a8e55(0x22a)](']:')[0x0]||proxyIP;else proxyIP[_0x9a8e55(0x22a)](':')[_0x9a8e55(0x1fa)]===0x2&&(_0x5624c6=proxyIP[_0x9a8e55(0x22a)](':')[0x1]||_0x5624c6,proxyIP=proxyIP[_0x9a8e55(0x22a)](':')[0x0]||proxyIP);}if(proxyIP[_0x9a8e55(0x1e4)](_0x9a8e55(0x20a)))_0x5624c6=proxyIP['split'](_0x9a8e55(0x20a))[0x1][_0x9a8e55(0x22a)]('.')[0x0]||_0x5624c6;_0x4ef2ec=await _0x2daa42(proxyIP||_0x3da36a,_0x5624c6);}_0x4ef2ec['closed'][_0x9a8e55(0x263)](_0x95ded7=>{const _0x7cc50e=_0x9a8e55;console['log'](_0x7cc50e(0x2ed),_0x95ded7);})[_0x9a8e55(0x2fb)](()=>{safeCloseWebSocket(_0x4fa7b6);}),remoteSocketToWS(_0x4ef2ec,_0x4fa7b6,null,_0x370e8a);}let _0x42af11=![];if(go2Socks5s['length']>0x0&&enableSocks)_0x42af11=await _0x2787ba(_0x3da36a);let _0x4ef2ec=await _0x2daa42(_0x3da36a,_0x5624c6,_0x42af11);remoteSocketToWS(_0x4ef2ec,_0x4fa7b6,_0x2206e5,_0x370e8a);}function makeReadableWebSocketStream(_0x5a9327,_0x43ed8f,_0x2dc836){let _0x5749c5=![];const _0x3b0dac=new ReadableStream({'start'(_0x305aee){const _0x23abeb=_0x2816;_0x5a9327[_0x23abeb(0x218)](_0x23abeb(0x2f9),_0x168373=>{const _0x27d7fe=_0x23abeb;if(_0x5749c5)return;const _0x588346=_0x168373[_0x27d7fe(0x274)];_0x305aee[_0x27d7fe(0x1cb)](_0x588346);}),_0x5a9327[_0x23abeb(0x218)]('close',()=>{safeCloseWebSocket(_0x5a9327);if(_0x5749c5)return;_0x305aee['close']();}),_0x5a9327[_0x23abeb(0x218)](_0x23abeb(0x30a),_0x4b01dc=>{const _0x425134=_0x23abeb;_0x2dc836(_0x425134(0x1d9)),_0x305aee[_0x425134(0x30a)](_0x4b01dc);});const {earlyData:_0x34675e,error:_0x47df09}=base64ToArrayBuffer(_0x43ed8f);if(_0x47df09)_0x305aee[_0x23abeb(0x30a)](_0x47df09);else _0x34675e&&_0x305aee[_0x23abeb(0x1cb)](_0x34675e);},'pull'(_0x5ef692){},'cancel'(_0x3e0ed7){const _0x3254af=_0x2816;if(_0x5749c5)return;_0x2dc836(_0x3254af(0x255)+_0x3e0ed7),_0x5749c5=!![],safeCloseWebSocket(_0x5a9327);}});return _0x3b0dac;}async function remoteSocketToWS(_0x28d2a9,_0x59d060,_0x56eeeb,_0x4da45a){const _0x30f117=_0x2816;let _0x5d6f03=![];await _0x28d2a9[_0x30f117(0x258)]['pipeTo'](new WritableStream({'start'(){},async 'write'(_0x1d6642,_0x5a206a){const _0xa4ff7e=_0x30f117;_0x5d6f03=!![],_0x59d060[_0xa4ff7e(0x222)]!==WS_READY_STATE_OPEN&&_0x5a206a[_0xa4ff7e(0x30a)](_0xa4ff7e(0x2ba)),_0x59d060['send'](_0x1d6642);},'close'(){const _0x55133e=_0x30f117;_0x4da45a(_0x55133e(0x2e6)+_0x5d6f03);},'abort'(_0x2d207c){const _0x368f6b=_0x30f117;console[_0x368f6b(0x30a)]('remoteSocket.readable\x20abort',_0x2d207c);}}))['catch'](_0x2968a1=>{const _0x2bb228=_0x30f117;console[_0x2bb228(0x30a)](_0x2bb228(0x221),_0x2968a1[_0x2bb228(0x2e5)]||_0x2968a1),safeCloseWebSocket(_0x59d060);}),_0x5d6f03===![]&&_0x56eeeb&&(_0x4da45a(_0x30f117(0x2f0)),_0x56eeeb());}function base64ToArrayBuffer(_0x12b42b){const _0x5dbf72=_0x2816;if(!_0x12b42b)return{'error':null};try{_0x12b42b=_0x12b42b[_0x5dbf72(0x2d5)](/-/g,'+')[_0x5dbf72(0x2d5)](/_/g,'/');const _0x65dd15=atob(_0x12b42b),_0x520f02=Uint8Array[_0x5dbf72(0x21b)](_0x65dd15,_0xbfbeb3=>_0xbfbeb3[_0x5dbf72(0x232)](0x0));return{'earlyData':_0x520f02[_0x5dbf72(0x302)],'error':null};}catch(_0x5457e4){return{'error':_0x5457e4};}}let WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x2669e1){const _0x1ba33e=_0x2816;try{(_0x2669e1[_0x1ba33e(0x222)]===WS_READY_STATE_OPEN||_0x2669e1['readyState']===WS_READY_STATE_CLOSING)&&_0x2669e1[_0x1ba33e(0x21d)]();}catch(_0x19d96a){console['error'](_0x1ba33e(0x286),_0x19d96a);}}function revertFakeInfo(_0x503595,_0x4dcf8a,_0x48d747,_0x559cf9){const _0x17b99d=_0x2816;if(_0x559cf9)_0x503595=atob(_0x503595);_0x503595=_0x503595[_0x17b99d(0x2d5)](new RegExp(fakeUserID,'g'),_0x4dcf8a)['replace'](new RegExp(fakeHostName,'g'),_0x48d747);if(_0x559cf9)_0x503595=btoa(_0x503595);return _0x503595;}async function MD5MD5(_0x13e94e){const _0x147e6e=_0x2816,_0x41e4a8=new TextEncoder(),_0x4b772a=await crypto[_0x147e6e(0x2a2)]['digest']('MD5',_0x41e4a8[_0x147e6e(0x1f8)](_0x13e94e)),_0x5df7f0=Array[_0x147e6e(0x21b)](new Uint8Array(_0x4b772a)),_0x3159e7=_0x5df7f0['map'](_0x4e2219=>_0x4e2219[_0x147e6e(0x27e)](0x10)[_0x147e6e(0x272)](0x2,'0'))['join'](''),_0xf71417=await crypto[_0x147e6e(0x2a2)][_0x147e6e(0x21e)](_0x147e6e(0x279),_0x41e4a8[_0x147e6e(0x1f8)](_0x3159e7['slice'](0x7,0x1b))),_0x1c19cb=Array[_0x147e6e(0x21b)](new Uint8Array(_0xf71417)),_0x416ade=_0x1c19cb[_0x147e6e(0x2ea)](_0x352af7=>_0x352af7[_0x147e6e(0x27e)](0x10)[_0x147e6e(0x272)](0x2,'0'))['join']('');return _0x416ade[_0x147e6e(0x27f)]();}async function ADD(_0x37a6db){const _0x184304=_0x2816;var _0x4fac87=_0x37a6db[_0x184304(0x2d5)](/[	|"'\r\n]+/g,',')[_0x184304(0x2d5)](/,+/g,',');if(_0x4fac87['charAt'](0x0)==',')_0x4fac87=_0x4fac87[_0x184304(0x1e2)](0x1);if(_0x4fac87[_0x184304(0x236)](_0x4fac87[_0x184304(0x1fa)]-0x1)==',')_0x4fac87=_0x4fac87[_0x184304(0x1e2)](0x0,_0x4fac87[_0x184304(0x1fa)]-0x1);const _0x3412bc=_0x4fac87[_0x184304(0x22a)](',');return _0x3412bc;}async function proxyURL(_0x4c9a17,_0x2e9411){const _0x78dd0c=_0x2816,_0x58edcc=await ADD(_0x4c9a17),_0x39e57d=_0x58edcc[Math[_0x78dd0c(0x270)](Math[_0x78dd0c(0x27b)]()*_0x58edcc[_0x78dd0c(0x1fa)])];let _0x262753=new URL(_0x39e57d);console[_0x78dd0c(0x271)](_0x262753);let _0x1fbd15=_0x262753['protocol']['slice'](0x0,-0x1)||'https',_0x4a530d=_0x262753[_0x78dd0c(0x245)],_0x3310c2=_0x262753[_0x78dd0c(0x24b)],_0x189543=_0x262753['search'];_0x3310c2[_0x78dd0c(0x236)](_0x3310c2['length']-0x1)=='/'&&(_0x3310c2=_0x3310c2['slice'](0x0,-0x1));_0x3310c2+=_0x2e9411[_0x78dd0c(0x24b)];let _0x2fc051=_0x1fbd15+_0x78dd0c(0x256)+_0x4a530d+_0x3310c2+_0x189543,_0x579463=await fetch(_0x2fc051),_0x16e524=new Response(_0x579463[_0x78dd0c(0x2f5)],{'status':_0x579463[_0x78dd0c(0x2ca)],'statusText':_0x579463['statusText'],'headers':_0x579463['headers']});return _0x16e524[_0x78dd0c(0x278)][_0x78dd0c(0x2a7)](_0x78dd0c(0x21f),_0x2fc051),_0x16e524;}function 配置信息(_0x1d6e91,_0x24af6b){const _0x1a76bd=_0x2816,_0x204bb6=_0x1a76bd(0x1fe),_0x86e90a=atob(_0x204bb6),_0x15ab47=FileName;let _0x3e5999=_0x24af6b,_0x2f51d5=0x1bb;const _0x27a672='ws',_0x170dd8=_0x24af6b,_0x501335='/?ed=2560';let _0x545c7e=['tls',!![]];const _0x45fa47=_0x24af6b,_0x57c040=_0x1a76bd(0x240),_0x41c216=_0x86e90a+_0x1a76bd(0x256)+encodeURIComponent(_0x1d6e91)+'@'+_0x3e5999+':'+_0x2f51d5+'?security='+_0x545c7e[0x0]+_0x1a76bd(0x1cd)+_0x45fa47+_0x1a76bd(0x2ad)+_0x57c040+_0x1a76bd(0x2ff)+_0x27a672+_0x1a76bd(0x1e9)+_0x170dd8+_0x1a76bd(0x2b8)+encodeURIComponent(_0x501335)+'#'+encodeURIComponent(_0x15ab47),_0x83ca14='-\x20{name:\x20'+_0x15ab47+',\x20server:\x20'+_0x3e5999+_0x1a76bd(0x289)+_0x2f51d5+_0x1a76bd(0x229)+_0x57c040+',\x20type:\x20'+_0x86e90a+_0x1a76bd(0x2e3)+_0x1d6e91+_0x1a76bd(0x1e5)+_0x45fa47+_0x1a76bd(0x246)+_0x27a672+_0x1a76bd(0x20f)+_0x501335+'\x22,\x20headers:\x20{Host:\x20'+_0x170dd8+_0x1a76bd(0x205);return[_0x41c216,_0x83ca14];}let subParams=[_0x36e9ff(0x2b1),_0x36e9ff(0x1f5),'b64','clash',_0x36e9ff(0x26a),'sb',_0x36e9ff(0x2fc)];async function getTrojanConfig(_0x4fe0de,_0x52e5d3,_0xf6a6b3,_0x4f1101,_0x4e36d5,_0x2ea13d){const _0x10316d=_0x36e9ff;if(_0xf6a6b3){const _0x39ca61=_0xf6a6b3['match'](/^(?:https?:\/\/)?([^\/]+)/);_0x39ca61&&(_0xf6a6b3=_0x39ca61[0x1]);}else{if(addresses['length']+addressesapi[_0x10316d(0x1fa)]+addressescsv[_0x10316d(0x1fa)]==0x0){let _0x2cc05b=[_0x10316d(0x243),_0x10316d(0x2fd),_0x10316d(0x2f4),_0x10316d(0x2a4),'103.21.244.0/23',_0x10316d(0x249),_0x10316d(0x2f1),_0x10316d(0x2bb),'172.64.0.0/14',_0x10316d(0x2b0),'190.93.240.0/21'];function _0x104466(_0x1c6945){const _0x378f3a=_0x10316d,[_0x4ae012,_0x4b24e3]=_0x1c6945[_0x378f3a(0x22a)]('/'),_0x4037ab=_0x4ae012[_0x378f3a(0x22a)]('.')[_0x378f3a(0x2ea)](Number),_0x677faa=0x20-parseInt(_0x4b24e3,0xa),_0x9ddc17=Math[_0x378f3a(0x22d)](0x2,_0x677faa)-0x1,_0x55dd18=Math[_0x378f3a(0x270)](Math['random']()*_0x9ddc17),_0x35441b=_0x4037ab[_0x378f3a(0x2ea)]((_0x4a2505,_0x39962e)=>{if(_0x39962e<0x2)return _0x4a2505;if(_0x39962e===0x2)return(_0x4a2505&0xff<<_0x677faa-0x8)+(_0x55dd18>>0x8&0xff);return(_0x4a2505&0xff<<_0x677faa)+(_0x55dd18&0xff);});return _0x35441b[_0x378f3a(0x239)]('.');}addresses=addresses[_0x10316d(0x1de)](_0x10316d(0x24d)),addresses=addresses['concat'](_0x2cc05b[_0x10316d(0x2ea)](_0x51b7a4=>_0x104466(_0x51b7a4)+'#CF随机节点'));}}const _0x466c0e=_0x4f1101[_0x10316d(0x27f)](),_0x23be9e=配置信息(_0x4fe0de,_0x52e5d3),_0x26a698=_0x23be9e[0x0],_0x25c135=_0x23be9e[0x1];let _0x21ab73='';if(_0x52e5d3['includes'](_0x10316d(0x2a5))){if(proxyhostsURL&&(!proxyhosts||proxyhosts[_0x10316d(0x1fa)]==0x0))try{const _0x3df277=await fetch(proxyhostsURL);if(!_0x3df277['ok']){console[_0x10316d(0x30a)]('获取地址时出错:',_0x3df277['status'],_0x3df277[_0x10316d(0x20d)]);return;}const _0x4efe89=await _0x3df277['text'](),_0x72317=_0x4efe89[_0x10316d(0x22a)]('\x0a'),_0x9bcb26=_0x72317['filter'](_0x5c5708=>_0x5c5708['trim']()!=='');proxyhosts=proxyhosts[_0x10316d(0x1de)](_0x9bcb26);}catch(_0x24a687){}if(proxyhosts['length']!=0x0)_0x21ab73=proxyhosts[Math[_0x10316d(0x270)](Math[_0x10316d(0x27b)]()*proxyhosts[_0x10316d(0x1fa)])]+'/';}if(_0x466c0e[_0x10316d(0x1e4)](_0x10316d(0x1d0))&&!subParams['some'](_0x36f07d=>_0x2ea13d[_0x10316d(0x2b3)][_0x10316d(0x2cd)](_0x36f07d))){let _0x186ab4=_0x10316d(0x20c)+_0x21ab73+_0x52e5d3+'/'+_0x4fe0de+_0x10316d(0x29d);if(_0x52e5d3[_0x10316d(0x1e4)]('.workers.dev'))_0x186ab4='Surge订阅必须绑定自定义域';const _0x1712f6=socks5s[_0x10316d(0x2ea)](_0xc3cc9=>{const _0x35960a=_0x10316d;if(_0xc3cc9[_0x35960a(0x1e4)]('@'))return _0xc3cc9[_0x35960a(0x22a)]('@')[0x1];else{if(_0xc3cc9[_0x35960a(0x1e4)]('//'))return _0xc3cc9[_0x35960a(0x22a)]('//')[0x1];else return _0xc3cc9;}});let _0x46019f='';if(go2Socks5s[_0x10316d(0x1fa)]>0x0&&enableSocks){_0x46019f=''+decodeURIComponent(_0x10316d(0x2bf));if(go2Socks5s[_0x10316d(0x1e4)](atob('YWxsIGlu'))||go2Socks5s[_0x10316d(0x1e4)](atob(_0x10316d(0x2c2))))_0x46019f+=decodeURIComponent(_0x10316d(0x22f))+'\x0a';else _0x46019f+=_0x10316d(0x306)+go2Socks5s['join']('\x0a\x20\x20')+'\x0a';}let _0x290d5c='';if(!_0xf6a6b3||_0xf6a6b3==''){if(enableSocks)_0x290d5c+=_0x10316d(0x20e)+_0x1712f6[_0x10316d(0x239)](_0x10316d(0x306))+'\x0a'+_0x46019f;else{if(proxyIP&&proxyIP!='')_0x290d5c+='CFCDN（访问方式）:\x20ProxyIP\x0a\x20\x20'+proxyIPs[_0x10316d(0x239)](_0x10316d(0x306))+'\x0a';else _0x290d5c+=_0x10316d(0x2d3);}_0x290d5c+=_0x10316d(0x2a3);if(addresses[_0x10316d(0x1fa)]>0x0)_0x290d5c+=_0x10316d(0x2a0)+addresses[_0x10316d(0x239)](_0x10316d(0x306))+'\x0a';if(addressesapi[_0x10316d(0x1fa)]>0x0)_0x290d5c+='ADDAPI（TLS优选域名&IP\x20的\x20API）:\x20\x0a\x20\x20'+addressesapi[_0x10316d(0x239)]('\x0a\x20\x20')+'\x0a';if(addressescsv[_0x10316d(0x1fa)]>0x0)_0x290d5c+=_0x10316d(0x1e7)+DLS+'\x20）:\x20\x0a\x20\x20'+addressescsv[_0x10316d(0x239)](_0x10316d(0x306))+'\x0a';}else{if(enableSocks)_0x290d5c+=_0x10316d(0x20e)+_0x1712f6[_0x10316d(0x239)](_0x10316d(0x306))+'\x0a'+_0x46019f;else{if(proxyIP&&proxyIP!='')_0x290d5c+='CFCDN（访问方式）:\x20ProxyIP\x0a\x20\x20'+proxyIPs[_0x10316d(0x239)](_0x10316d(0x306))+'\x0a';else{if(_0x4e36d5=='true')_0x290d5c+='CFCDN（访问方式）:\x20自动获取ProxyIP\x0a';else _0x290d5c+=_0x10316d(0x2d3);}}_0x290d5c+=_0x10316d(0x219)+_0xf6a6b3;}return _0x10316d(0x276)+_0x21ab73+_0x52e5d3+'/'+_0x4fe0de+_0x10316d(0x230)+_0x21ab73+_0x52e5d3+'/'+_0x4fe0de+_0x10316d(0x1ef)+_0x21ab73+_0x52e5d3+'/'+_0x4fe0de+_0x10316d(0x298)+_0x21ab73+_0x52e5d3+'/'+_0x4fe0de+_0x10316d(0x202)+_0x21ab73+_0x52e5d3+'/'+_0x4fe0de+'?clash\x0a\x0asingbox订阅地址:\x0ahttps://'+_0x21ab73+_0x52e5d3+'/'+_0x4fe0de+_0x10316d(0x26e)+_0x21ab73+_0x52e5d3+'/'+_0x4fe0de+'?singbox\x0a\x0a'+_0x186ab4+_0x10316d(0x275)+FileName+_0x10316d(0x269)+_0x52e5d3+_0x10316d(0x2d1)+_0x4fe0de+_0x10316d(0x307)+sha224Password+_0x10316d(0x1d3)+fakeUserID+_0x10316d(0x2c6)+_0x4f1101+'\x0a\x0a'+_0x290d5c+'\x0aSUBAPI（订阅转换后端）:\x20'+subProtocol+_0x10316d(0x256)+subconverter+_0x10316d(0x295)+subconfig+_0x10316d(0x25b)+_0x26a698+'\x0a---------------------------------------------------------------\x0a################################################################\x0aclash-meta\x0a---------------------------------------------------------------\x0a'+_0x25c135+_0x10316d(0x275)+atob(_0x10316d(0x1d5))+'\x0a';}else{if(typeof fetch!='function')return _0x10316d(0x1ce);_0x52e5d3['includes'](_0x10316d(0x2a5))?fakeHostName=fakeHostName+_0x10316d(0x2a5):fakeHostName=fakeHostName+'.xyz';let _0x55410d='https://'+_0xf6a6b3+_0x10316d(0x24a)+fakeHostName+_0x10316d(0x1ee)+fakeUserID+_0x10316d(0x2f6)+(fakeUserID+atob(_0x10316d(0x211))+_0x4e36d5),_0x44ec62=!![],_0x4e214d=[],_0x431d67=[];if(!_0xf6a6b3||_0xf6a6b3==''){if(_0x52e5d3[_0x10316d(0x1e4)]('workers.dev')){if(proxyhostsURL&&(!proxyhosts||proxyhosts[_0x10316d(0x1fa)]==0x0))try{const _0x5e6778=await fetch(proxyhostsURL);if(!_0x5e6778['ok']){console[_0x10316d(0x30a)](_0x10316d(0x1fc),_0x5e6778[_0x10316d(0x2ca)],_0x5e6778[_0x10316d(0x20d)]);return;}const _0x34c026=await _0x5e6778[_0x10316d(0x25a)](),_0x577da4=_0x34c026[_0x10316d(0x22a)]('\x0a'),_0x34fd25=_0x577da4[_0x10316d(0x23b)](_0x299f26=>_0x299f26['trim']()!=='');proxyhosts=proxyhosts[_0x10316d(0x1de)](_0x34fd25);}catch(_0x228e8a){console[_0x10316d(0x30a)](_0x10316d(0x1fc),_0x228e8a);}proxyhosts=[...new Set(proxyhosts)];}_0x4e214d=await getAddressesapi(addressesapi),_0x431d67=await getAddressescsv('TRUE'),_0x55410d=_0x10316d(0x294)+_0x52e5d3+'/'+fakeUserID;}if(!_0x466c0e['includes'](_0x10316d(0x21c)['toLowerCase']())){if(_0x466c0e[_0x10316d(0x1e4)]('clash')&&!_0x466c0e['includes'](_0x10316d(0x1e0))||_0x2ea13d[_0x10316d(0x2b3)][_0x10316d(0x2cd)](_0x10316d(0x23e)))_0x55410d=subProtocol+_0x10316d(0x256)+subconverter+_0x10316d(0x200)+encodeURIComponent(_0x55410d)+_0x10316d(0x207)+encodeURIComponent(subconfig)+'&emoji=true&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true',_0x44ec62=![];else{if(_0x466c0e[_0x10316d(0x1e4)](_0x10316d(0x252))||_0x466c0e[_0x10316d(0x1e4)](_0x10316d(0x26a))||_0x2ea13d[_0x10316d(0x2b3)][_0x10316d(0x2cd)](_0x10316d(0x26a))||_0x2ea13d[_0x10316d(0x2b3)][_0x10316d(0x2cd)]('sb'))_0x55410d=subProtocol+'://'+subconverter+_0x10316d(0x2a9)+encodeURIComponent(_0x55410d)+_0x10316d(0x207)+encodeURIComponent(subconfig)+_0x10316d(0x2c1),_0x44ec62=![];else(_0x466c0e[_0x10316d(0x1e4)](_0x10316d(0x2fc))||_0x2ea13d['searchParams'][_0x10316d(0x2cd)]('surge'))&&(_0x55410d=subProtocol+_0x10316d(0x256)+subconverter+_0x10316d(0x2fa)+encodeURIComponent(_0x55410d)+_0x10316d(0x207)+encodeURIComponent(subconfig)+'&emoji=true&list=false&xudp=false&udp=false&tfo=false&expand=true&scv=true&fdn=false',_0x44ec62=![]);}}try{let _0x22cde0;if((!_0xf6a6b3||_0xf6a6b3=='')&&_0x44ec62==!![])_0x22cde0=await subAddresses(fakeHostName,fakeUserID,_0x466c0e,_0x4e214d,_0x431d67);else{const _0x3e92fc=await fetch(_0x55410d,{'headers':{'User-Agent':atob('Q0YtV29ya2Vycy1lcGVpdXMvY21saXU=')}});_0x22cde0=await _0x3e92fc['text']();}if(_0x2ea13d['pathname']=='/'+fakeUserID)return _0x22cde0;_0x22cde0=revertFakeInfo(_0x22cde0,_0x4fe0de,_0x52e5d3,_0x44ec62);if(_0x466c0e[_0x10316d(0x1e4)]('surge')||_0x2ea13d[_0x10316d(0x2b3)]['has'](_0x10316d(0x2fc)))_0x22cde0=surge(_0x22cde0,_0x10316d(0x294)+_0x52e5d3+'/'+_0x4fe0de+_0x10316d(0x29d));return _0x22cde0;}catch(_0x5f121f){return console[_0x10316d(0x30a)](_0x10316d(0x217),_0x5f121f),'Error\x20fetching\x20content:\x20'+_0x5f121f[_0x10316d(0x2f9)];}}}async function sendMessage(_0x17b4ae,_0x13f314,_0x155e37=''){const _0x38645b=_0x36e9ff;if(BotToken!==''&&ChatID!==''){let _0x348710='';const _0x5504a4=await fetch(_0x38645b(0x26c)+_0x13f314+_0x38645b(0x268));if(_0x5504a4['status']==0xc8){const _0x16b4a1=await _0x5504a4[_0x38645b(0x28c)]();_0x348710=_0x17b4ae+'\x0aIP:\x20'+_0x13f314+_0x38645b(0x1d1)+_0x16b4a1[_0x38645b(0x2ec)]+_0x38645b(0x261)+_0x16b4a1[_0x38645b(0x2ef)]+_0x38645b(0x203)+_0x16b4a1[_0x38645b(0x23a)]+'\x0aASN:\x20'+_0x16b4a1['as']+'\x0a'+_0x155e37;}else _0x348710=_0x17b4ae+_0x38645b(0x29c)+_0x13f314+'\x0a<tg-spoiler>'+_0x155e37;let _0x3fe368='https://api.telegram.org/bot'+BotToken+'/sendMessage?chat_id='+ChatID+_0x38645b(0x210)+encodeURIComponent(_0x348710);return fetch(_0x3fe368,{'method':_0x38645b(0x223),'headers':{'Accept':_0x38645b(0x1dd),'Accept-Encoding':_0x38645b(0x241),'User-Agent':_0x38645b(0x242)}});}}let proxyIPPool=[];function subAddresses(_0x428a9a,_0x3f9fa5,_0x44bb5a,_0xbffccb,_0x32014e){const _0x1c620a=_0x36e9ff;addresses=addresses[_0x1c620a(0x1de)](_0xbffccb),addresses=addresses['concat'](_0x32014e);const _0x245c01=[...new Set(addresses)],_0x44d79c=_0x245c01[_0x1c620a(0x2ea)](_0x1f179d=>{const _0x5bc57c=_0x1c620a;let _0x1bc337='-1',_0x50d2a1=_0x1f179d;const _0x300ed1=_0x50d2a1[_0x5bc57c(0x2e7)](regex);if(!_0x300ed1){if(_0x1f179d[_0x5bc57c(0x1e4)](':')&&_0x1f179d[_0x5bc57c(0x1e4)]('#')){const _0x94a355=_0x1f179d['split'](':');_0x1f179d=_0x94a355[0x0];const _0x443925=_0x94a355[0x1]['split']('#');_0x1bc337=_0x443925[0x0],_0x50d2a1=_0x443925[0x1];}else{if(_0x1f179d['includes'](':')){const _0x44c468=_0x1f179d['split'](':');_0x1f179d=_0x44c468[0x0],_0x1bc337=_0x44c468[0x1];}else{if(_0x1f179d['includes']('#')){const _0x4a179e=_0x1f179d[_0x5bc57c(0x22a)]('#');_0x1f179d=_0x4a179e[0x0],_0x50d2a1=_0x4a179e[0x1];}}}_0x50d2a1['includes'](':')&&(_0x50d2a1=_0x50d2a1['split'](':')[0x0]);}else _0x1f179d=_0x300ed1[0x1],_0x1bc337=_0x300ed1[0x2]||_0x1bc337,_0x50d2a1=_0x300ed1[0x3]||_0x1f179d;const _0x1e2cc3=[_0x5bc57c(0x1e1),_0x5bc57c(0x2af),_0x5bc57c(0x260),_0x5bc57c(0x1d4),_0x5bc57c(0x2be)];if(!isValidIPv4(_0x1f179d)&&_0x1bc337=='-1')for(let _0x48893c of _0x1e2cc3){if(_0x1f179d[_0x5bc57c(0x1e4)](_0x48893c)){_0x1bc337=_0x48893c;break;}}if(_0x1bc337=='-1')_0x1bc337=_0x5bc57c(0x300);let _0x316318=_0x428a9a,_0x46f74d=_0x5bc57c(0x303),_0x260d14='';proxyhosts[_0x5bc57c(0x1fa)]>0x0&&_0x316318[_0x5bc57c(0x1e4)]('.workers.dev')&&(_0x46f74d='/'+_0x316318+_0x46f74d,_0x316318=proxyhosts[Math[_0x5bc57c(0x270)](Math['random']()*proxyhosts[_0x5bc57c(0x1fa)])],_0x260d14=_0x5bc57c(0x238));const _0x4fa688=proxyIPPool[_0x5bc57c(0x2c7)](_0x2dfbed=>_0x2dfbed[_0x5bc57c(0x1e4)](_0x1f179d));if(_0x4fa688)_0x46f74d+=_0x5bc57c(0x2f8)+_0x4fa688;let _0x32266d=_0x3f9fa5;if(!_0x44bb5a[_0x5bc57c(0x1e4)](_0x5bc57c(0x216)))_0x32266d=encodeURIComponent(_0x3f9fa5);const _0x25855a=_0x5bc57c(0x1fe),_0x36a516=atob(_0x25855a),_0x3809cf=_0x36a516+_0x5bc57c(0x256)+_0x32266d+'@'+_0x1f179d+':'+_0x1bc337+_0x5bc57c(0x2b5)+_0x316318+_0x5bc57c(0x288)+_0x316318+_0x5bc57c(0x2b8)+encodeURIComponent(_0x46f74d)+'#'+encodeURIComponent(_0x50d2a1+_0x260d14);return _0x3809cf;})['join']('\x0a'),_0x429ce3=btoa(_0x44d79c);return _0x429ce3;}async function getAddressesapi(_0x31664c){const _0x2d2db4=_0x36e9ff;if(!_0x31664c||_0x31664c['length']===0x0)return[];let _0xe86f74='';const _0x3fc4e5=new AbortController(),_0x39e849=setTimeout(()=>{const _0x4999e3=_0x2816;_0x3fc4e5[_0x4999e3(0x2bd)]();},0x7d0);try{const _0x524214=await Promise[_0x2d2db4(0x2e9)](_0x31664c[_0x2d2db4(0x2ea)](_0x24b51a=>fetch(_0x24b51a,{'method':_0x2d2db4(0x223),'headers':{'Accept':_0x2d2db4(0x1dd),'User-Agent':atob(_0x2d2db4(0x2b6))},'signal':_0x3fc4e5[_0x2d2db4(0x262)]})[_0x2d2db4(0x2b9)](_0xfc20de=>_0xfc20de['ok']?_0xfc20de[_0x2d2db4(0x25a)]():Promise['reject']())));for(const [_0x47661a,_0x318513]of _0x524214[_0x2d2db4(0x244)]()){if(_0x318513[_0x2d2db4(0x2ca)]===_0x2d2db4(0x305)){const _0x514eb8=await _0x318513[_0x2d2db4(0x201)];_0x31664c[_0x47661a][_0x2d2db4(0x1e4)](_0x2d2db4(0x2cc))&&(proxyIPPool=proxyIPPool[_0x2d2db4(0x1de)]((await ADD(_0x514eb8))['map'](_0x44595d=>{const _0x5aa0ac=_0x2d2db4,_0xc9bc18=_0x44595d[_0x5aa0ac(0x22a)]('#')[0x0]||_0x44595d;if(_0xc9bc18[_0x5aa0ac(0x1e4)](':')){const _0x424e3c=_0xc9bc18[_0x5aa0ac(0x22a)](':')[0x1];if(!httpsPorts[_0x5aa0ac(0x1e4)](_0x424e3c))return _0xc9bc18;}else return _0xc9bc18+_0x5aa0ac(0x2c4);return null;})[_0x2d2db4(0x23b)](Boolean))),_0xe86f74+=_0x514eb8+'\x0a';}}}catch(_0xfd02e3){console[_0x2d2db4(0x30a)](_0xfd02e3);}finally{clearTimeout(_0x39e849);}const _0x2410f5=await ADD(_0xe86f74);return _0x2410f5;}async function getAddressescsv(_0xa4d2c2){const _0xb8221c=_0x36e9ff;if(!addressescsv||addressescsv[_0xb8221c(0x1fa)]===0x0)return[];let _0x79e350=[];for(const _0x490a86 of addressescsv){try{const _0x363e86=await fetch(_0x490a86);if(!_0x363e86['ok']){console[_0xb8221c(0x30a)](_0xb8221c(0x27a),_0x363e86[_0xb8221c(0x2ca)],_0x363e86[_0xb8221c(0x20d)]);continue;}const _0x38bc3a=await _0x363e86[_0xb8221c(0x25a)]();let _0x33b8a4;_0x38bc3a[_0xb8221c(0x1e4)]('\x0d\x0a')?_0x33b8a4=_0x38bc3a['split']('\x0d\x0a'):_0x33b8a4=_0x38bc3a[_0xb8221c(0x22a)]('\x0a');const _0x1a7270=_0x33b8a4[0x0][_0xb8221c(0x22a)](','),_0x3c0d58=_0x1a7270['indexOf'](_0xb8221c(0x2f7)),_0x3572ea=0x0,_0x54d253=0x1,_0x31654b=_0x3c0d58+0x1;if(_0x3c0d58===-0x1){console['error'](_0xb8221c(0x2c3));continue;}for(let _0x1801ae=0x1;_0x1801ae<_0x33b8a4[_0xb8221c(0x1fa)];_0x1801ae++){const _0x36ba21=_0x33b8a4[_0x1801ae][_0xb8221c(0x22a)](','),_0x5d0c38=_0x36ba21['length']-0x1;if(_0x36ba21[_0x3c0d58]['toUpperCase']()===_0xa4d2c2&&parseFloat(_0x36ba21[_0x5d0c38])>DLS){const _0x1d51d9=_0x36ba21[_0x3572ea],_0xec53f9=_0x36ba21[_0x54d253],_0x2fbabb=_0x36ba21[_0x31654b],_0x56f33d=_0x1d51d9+':'+_0xec53f9+'#'+_0x2fbabb;_0x79e350[_0xb8221c(0x1cc)](_0x56f33d),_0x490a86[_0xb8221c(0x1e4)](_0xb8221c(0x2cc))&&_0x36ba21[_0x3c0d58][_0xb8221c(0x2d6)]()==_0xb8221c(0x1db)&&!httpsPorts['includes'](_0xec53f9)&&proxyIPPool[_0xb8221c(0x1cc)](_0x1d51d9+':'+_0xec53f9);}}}catch(_0x5ee46d){console['error'](_0xb8221c(0x27a),_0x5ee46d);continue;}}return _0x79e350;}function surge(_0x4bfb5c,_0x3b1924){const _0xd70c69=_0x36e9ff;let _0x466fa7;_0x4bfb5c['includes']('\x0d\x0a')?_0x466fa7=_0x4bfb5c[_0xd70c69(0x22a)]('\x0d\x0a'):_0x466fa7=_0x4bfb5c[_0xd70c69(0x22a)]('\x0a');let _0x2080f0='';for(let _0x4fbb81 of _0x466fa7){if(_0x4fbb81['includes'](_0xd70c69(0x28e))){const _0x49ca5e=_0x4fbb81[_0xd70c69(0x22a)](_0xd70c69(0x25c))[0x1]['split'](',')[0x0],_0x53ecca=_0xd70c69(0x1f9),_0xaf5c74='skip-cert-verify=true,\x20ws=true,\x20ws-path=/?ed=2560,\x20ws-headers=Host:\x22'+_0x49ca5e+_0xd70c69(0x225);_0x2080f0+=_0x4fbb81[_0xd70c69(0x2d5)](new RegExp(_0x53ecca,'g'),_0xaf5c74)['replace']('[','')[_0xd70c69(0x2d5)](']','')+'\x0a';}else _0x2080f0+=_0x4fbb81+'\x0a';}return _0x2080f0='#!MANAGED-CONFIG\x20'+_0x3b1924+'\x20interval=86400\x20strict=false'+_0x2080f0[_0xd70c69(0x1f2)](_0x2080f0[_0xd70c69(0x23f)]('\x0a')),_0x2080f0;}/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */
(function(){'use strict';const _0x17bc5b=_0x36e9ff;var _0x51bb85=_0x17bc5b(0x234),_0x5dadc4=typeof window===_0x17bc5b(0x22b),_0x321c51=_0x5dadc4?window:{};_0x321c51['JS_SHA256_NO_WINDOW']&&(_0x5dadc4=![]);var _0x5b3e6a=!_0x5dadc4&&typeof self===_0x17bc5b(0x22b),_0x4b4e16=!_0x321c51[_0x17bc5b(0x1d8)]&&typeof process===_0x17bc5b(0x22b)&&process[_0x17bc5b(0x2a6)]&&process[_0x17bc5b(0x2a6)][_0x17bc5b(0x265)];if(_0x4b4e16)_0x321c51=global;else _0x5b3e6a&&(_0x321c51=self);var _0x2ce3b1=!_0x321c51[_0x17bc5b(0x250)]&&typeof module===_0x17bc5b(0x22b)&&module[_0x17bc5b(0x213)],_0x1b9a88=typeof define==='function'&&define[_0x17bc5b(0x291)],_0x4752f7=!_0x321c51[_0x17bc5b(0x2d4)]&&typeof ArrayBuffer!==_0x17bc5b(0x2cf),_0x286db3=_0x17bc5b(0x1d2)[_0x17bc5b(0x22a)](''),_0xaaf363=[-0x80000000,0x800000,0x8000,0x80],_0x2815ff=[0x18,0x10,0x8,0x0],_0x4ad05c=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],_0x1a70e4=[_0x17bc5b(0x247),_0x17bc5b(0x2d0),_0x17bc5b(0x21e),'arrayBuffer'],_0x123c58=[];(_0x321c51[_0x17bc5b(0x1d8)]||!Array[_0x17bc5b(0x28f)])&&(Array[_0x17bc5b(0x28f)]=function(_0x43518b){const _0x8c55a0=_0x17bc5b;return Object[_0x8c55a0(0x267)][_0x8c55a0(0x27e)][_0x8c55a0(0x212)](_0x43518b)===_0x8c55a0(0x2db);});_0x4752f7&&(_0x321c51[_0x17bc5b(0x1f0)]||!ArrayBuffer['isView'])&&(ArrayBuffer[_0x17bc5b(0x2d7)]=function(_0x21ba19){const _0x2edce6=_0x17bc5b;return typeof _0x21ba19===_0x2edce6(0x22b)&&_0x21ba19['buffer']&&_0x21ba19[_0x2edce6(0x302)][_0x2edce6(0x287)]===ArrayBuffer;});var _0x945d47=function(_0x4e9cd6,_0x5042ff){return function(_0x2448e8){const _0x387553=_0x2816;return new _0x21a1e1(_0x5042ff,!![])[_0x387553(0x266)](_0x2448e8)[_0x4e9cd6]();};},_0x31f08f=function(_0x4a0a0a){const _0x336e75=_0x17bc5b;var _0x407e8a=_0x945d47(_0x336e75(0x247),_0x4a0a0a);_0x4b4e16&&(_0x407e8a=_0x45887f(_0x407e8a,_0x4a0a0a));_0x407e8a[_0x336e75(0x231)]=function(){return new _0x21a1e1(_0x4a0a0a);},_0x407e8a[_0x336e75(0x266)]=function(_0x4a97ce){const _0x4943de=_0x336e75;return _0x407e8a[_0x4943de(0x231)]()[_0x4943de(0x266)](_0x4a97ce);};for(var _0x30bc83=0x0;_0x30bc83<_0x1a70e4[_0x336e75(0x1fa)];++_0x30bc83){var _0x444eb9=_0x1a70e4[_0x30bc83];_0x407e8a[_0x444eb9]=_0x945d47(_0x444eb9,_0x4a0a0a);}return _0x407e8a;},_0x45887f=function(_0x17b60d,_0x1f1e9b){const _0x45e562=_0x17bc5b;var _0x3592b9=require(_0x45e562(0x28b)),_0x32c8fa=require('buffer')[_0x45e562(0x214)],_0x19fa2c=_0x1f1e9b?_0x45e562(0x1d7):_0x45e562(0x1cf),_0x39ab16;_0x32c8fa['from']&&!_0x321c51[_0x45e562(0x2a8)]?_0x39ab16=_0x32c8fa['from']:_0x39ab16=function(_0x1dce4e){return new _0x32c8fa(_0x1dce4e);};var _0x29408f=function(_0x484b50){const _0x217037=_0x45e562;if(typeof _0x484b50===_0x217037(0x226))return _0x3592b9['createHash'](_0x19fa2c)[_0x217037(0x266)](_0x484b50,_0x217037(0x1dc))[_0x217037(0x21e)](_0x217037(0x247));else{if(_0x484b50===null||_0x484b50===undefined)throw new Error(_0x51bb85);else _0x484b50['constructor']===ArrayBuffer&&(_0x484b50=new Uint8Array(_0x484b50));}return Array[_0x217037(0x28f)](_0x484b50)||ArrayBuffer['isView'](_0x484b50)||_0x484b50[_0x217037(0x287)]===_0x32c8fa?_0x3592b9[_0x217037(0x235)](_0x19fa2c)[_0x217037(0x266)](_0x39ab16(_0x484b50))[_0x217037(0x21e)]('hex'):_0x17b60d(_0x484b50);};return _0x29408f;},_0x2197dd=function(_0x11dd6f,_0x692f2b){return function(_0x553cf1,_0x167f81){const _0x295d25=_0x2816;return new _0x39ef38(_0x553cf1,_0x692f2b,!![])[_0x295d25(0x266)](_0x167f81)[_0x11dd6f]();};},_0x5680c0=function(_0x37081b){const _0x36801c=_0x17bc5b;var _0x47d14f=_0x2197dd('hex',_0x37081b);_0x47d14f['create']=function(_0x1f0c97){return new _0x39ef38(_0x1f0c97,_0x37081b);},_0x47d14f[_0x36801c(0x266)]=function(_0x455808,_0x58a4d7){const _0x1544ea=_0x36801c;return _0x47d14f[_0x1544ea(0x231)](_0x455808)[_0x1544ea(0x266)](_0x58a4d7);};for(var _0x3ac4f4=0x0;_0x3ac4f4<_0x1a70e4[_0x36801c(0x1fa)];++_0x3ac4f4){var _0x417ea6=_0x1a70e4[_0x3ac4f4];_0x47d14f[_0x417ea6]=_0x2197dd(_0x417ea6,_0x37081b);}return _0x47d14f;};function _0x21a1e1(_0x37a8d2,_0x524834){const _0x1bc5f6=_0x17bc5b;_0x524834?(_0x123c58[0x0]=_0x123c58[0x10]=_0x123c58[0x1]=_0x123c58[0x2]=_0x123c58[0x3]=_0x123c58[0x4]=_0x123c58[0x5]=_0x123c58[0x6]=_0x123c58[0x7]=_0x123c58[0x8]=_0x123c58[0x9]=_0x123c58[0xa]=_0x123c58[0xb]=_0x123c58[0xc]=_0x123c58[0xd]=_0x123c58[0xe]=_0x123c58[0xf]=0x0,this['blocks']=_0x123c58):this[_0x1bc5f6(0x277)]=[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],_0x37a8d2?(this['h0']=0xc1059ed8,this['h1']=0x367cd507,this['h2']=0x3070dd17,this['h3']=0xf70e5939,this['h4']=0xffc00b31,this['h5']=0x68581511,this['h6']=0x64f98fa7,this['h7']=0xbefa4fa4):(this['h0']=0x6a09e667,this['h1']=0xbb67ae85,this['h2']=0x3c6ef372,this['h3']=0xa54ff53a,this['h4']=0x510e527f,this['h5']=0x9b05688c,this['h6']=0x1f83d9ab,this['h7']=0x5be0cd19),this[_0x1bc5f6(0x2ae)]=this[_0x1bc5f6(0x22c)]=this[_0x1bc5f6(0x290)]=this['hBytes']=0x0,this[_0x1bc5f6(0x25d)]=this['hashed']=![],this['first']=!![],this[_0x1bc5f6(0x2c9)]=_0x37a8d2;}_0x21a1e1[_0x17bc5b(0x267)]['update']=function(_0x11fec0){const _0xc4b198=_0x17bc5b;if(this[_0xc4b198(0x25d)])return;var _0x311f5e,_0x18e75c=typeof _0x11fec0;if(_0x18e75c!==_0xc4b198(0x226)){if(_0x18e75c===_0xc4b198(0x22b)){if(_0x11fec0===null)throw new Error(_0x51bb85);else{if(_0x4752f7&&_0x11fec0['constructor']===ArrayBuffer)_0x11fec0=new Uint8Array(_0x11fec0);else{if(!Array[_0xc4b198(0x28f)](_0x11fec0)){if(!_0x4752f7||!ArrayBuffer['isView'](_0x11fec0))throw new Error(_0x51bb85);}}}}else throw new Error(_0x51bb85);_0x311f5e=!![];}var _0x492457,_0x25daf6=0x0,_0x3fd00d,_0x4f70d1=_0x11fec0[_0xc4b198(0x1fa)],_0x267445=this[_0xc4b198(0x277)];while(_0x25daf6<_0x4f70d1){this[_0xc4b198(0x224)]&&(this['hashed']=![],_0x267445[0x0]=this['block'],this[_0xc4b198(0x2ae)]=_0x267445[0x10]=_0x267445[0x1]=_0x267445[0x2]=_0x267445[0x3]=_0x267445[0x4]=_0x267445[0x5]=_0x267445[0x6]=_0x267445[0x7]=_0x267445[0x8]=_0x267445[0x9]=_0x267445[0xa]=_0x267445[0xb]=_0x267445[0xc]=_0x267445[0xd]=_0x267445[0xe]=_0x267445[0xf]=0x0);if(_0x311f5e)for(_0x3fd00d=this['start'];_0x25daf6<_0x4f70d1&&_0x3fd00d<0x40;++_0x25daf6){_0x267445[_0x3fd00d>>>0x2]|=_0x11fec0[_0x25daf6]<<_0x2815ff[_0x3fd00d++&0x3];}else for(_0x3fd00d=this[_0xc4b198(0x22c)];_0x25daf6<_0x4f70d1&&_0x3fd00d<0x40;++_0x25daf6){_0x492457=_0x11fec0[_0xc4b198(0x232)](_0x25daf6);if(_0x492457<0x80)_0x267445[_0x3fd00d>>>0x2]|=_0x492457<<_0x2815ff[_0x3fd00d++&0x3];else{if(_0x492457<0x800)_0x267445[_0x3fd00d>>>0x2]|=(0xc0|_0x492457>>>0x6)<<_0x2815ff[_0x3fd00d++&0x3],_0x267445[_0x3fd00d>>>0x2]|=(0x80|_0x492457&0x3f)<<_0x2815ff[_0x3fd00d++&0x3];else _0x492457<0xd800||_0x492457>=0xe000?(_0x267445[_0x3fd00d>>>0x2]|=(0xe0|_0x492457>>>0xc)<<_0x2815ff[_0x3fd00d++&0x3],_0x267445[_0x3fd00d>>>0x2]|=(0x80|_0x492457>>>0x6&0x3f)<<_0x2815ff[_0x3fd00d++&0x3],_0x267445[_0x3fd00d>>>0x2]|=(0x80|_0x492457&0x3f)<<_0x2815ff[_0x3fd00d++&0x3]):(_0x492457=0x10000+((_0x492457&0x3ff)<<0xa|_0x11fec0['charCodeAt'](++_0x25daf6)&0x3ff),_0x267445[_0x3fd00d>>>0x2]|=(0xf0|_0x492457>>>0x12)<<_0x2815ff[_0x3fd00d++&0x3],_0x267445[_0x3fd00d>>>0x2]|=(0x80|_0x492457>>>0xc&0x3f)<<_0x2815ff[_0x3fd00d++&0x3],_0x267445[_0x3fd00d>>>0x2]|=(0x80|_0x492457>>>0x6&0x3f)<<_0x2815ff[_0x3fd00d++&0x3],_0x267445[_0x3fd00d>>>0x2]|=(0x80|_0x492457&0x3f)<<_0x2815ff[_0x3fd00d++&0x3]);}}this[_0xc4b198(0x209)]=_0x3fd00d,this[_0xc4b198(0x290)]+=_0x3fd00d-this[_0xc4b198(0x22c)],_0x3fd00d>=0x40?(this[_0xc4b198(0x2ae)]=_0x267445[0x10],this[_0xc4b198(0x22c)]=_0x3fd00d-0x40,this[_0xc4b198(0x2f2)](),this[_0xc4b198(0x224)]=!![]):this[_0xc4b198(0x22c)]=_0x3fd00d;}return this[_0xc4b198(0x290)]>0xffffffff&&(this[_0xc4b198(0x29a)]+=this['bytes']/0x100000000<<0x0,this[_0xc4b198(0x290)]=this[_0xc4b198(0x290)]%0x100000000),this;},_0x21a1e1[_0x17bc5b(0x267)][_0x17bc5b(0x257)]=function(){const _0x53aa2d=_0x17bc5b;if(this[_0x53aa2d(0x25d)])return;this[_0x53aa2d(0x25d)]=!![];var _0x1a6571=this[_0x53aa2d(0x277)],_0xdcd725=this[_0x53aa2d(0x209)];_0x1a6571[0x10]=this[_0x53aa2d(0x2ae)],_0x1a6571[_0xdcd725>>>0x2]|=_0xaaf363[_0xdcd725&0x3],this['block']=_0x1a6571[0x10],_0xdcd725>=0x38&&(!this['hashed']&&this[_0x53aa2d(0x2f2)](),_0x1a6571[0x0]=this['block'],_0x1a6571[0x10]=_0x1a6571[0x1]=_0x1a6571[0x2]=_0x1a6571[0x3]=_0x1a6571[0x4]=_0x1a6571[0x5]=_0x1a6571[0x6]=_0x1a6571[0x7]=_0x1a6571[0x8]=_0x1a6571[0x9]=_0x1a6571[0xa]=_0x1a6571[0xb]=_0x1a6571[0xc]=_0x1a6571[0xd]=_0x1a6571[0xe]=_0x1a6571[0xf]=0x0),_0x1a6571[0xe]=this[_0x53aa2d(0x29a)]<<0x3|this['bytes']>>>0x1d,_0x1a6571[0xf]=this[_0x53aa2d(0x290)]<<0x3,this[_0x53aa2d(0x2f2)]();},_0x21a1e1[_0x17bc5b(0x267)]['hash']=function(){const _0x295056=_0x17bc5b;var _0x57400c=this['h0'],_0xc56cb5=this['h1'],_0xab809=this['h2'],_0x2025d7=this['h3'],_0x77b057=this['h4'],_0x16fc00=this['h5'],_0x3ede02=this['h6'],_0x49a255=this['h7'],_0x7a2342=this[_0x295056(0x277)],_0x1b616a,_0x366e08,_0x253f7c,_0x91c5ae,_0x2744d0,_0x40a1fc,_0x3f0f55,_0x357c99,_0x24df76,_0x2d6ae4,_0x34630d;for(_0x1b616a=0x10;_0x1b616a<0x40;++_0x1b616a){_0x2744d0=_0x7a2342[_0x1b616a-0xf],_0x366e08=(_0x2744d0>>>0x7|_0x2744d0<<0x19)^(_0x2744d0>>>0x12|_0x2744d0<<0xe)^_0x2744d0>>>0x3,_0x2744d0=_0x7a2342[_0x1b616a-0x2],_0x253f7c=(_0x2744d0>>>0x11|_0x2744d0<<0xf)^(_0x2744d0>>>0x13|_0x2744d0<<0xd)^_0x2744d0>>>0xa,_0x7a2342[_0x1b616a]=_0x7a2342[_0x1b616a-0x10]+_0x366e08+_0x7a2342[_0x1b616a-0x7]+_0x253f7c<<0x0;}_0x34630d=_0xc56cb5&_0xab809;for(_0x1b616a=0x0;_0x1b616a<0x40;_0x1b616a+=0x4){this[_0x295056(0x2ac)]?(this[_0x295056(0x2c9)]?(_0x357c99=0x49400,_0x2744d0=_0x7a2342[0x0]-0x543c9a5b,_0x49a255=_0x2744d0-0x8f1a6c7<<0x0,_0x2025d7=_0x2744d0+0x170e9b5<<0x0):(_0x357c99=0x2a01a605,_0x2744d0=_0x7a2342[0x0]-0xc881298,_0x49a255=_0x2744d0-0x5ab00ac6<<0x0,_0x2025d7=_0x2744d0+0x8909ae5<<0x0),this[_0x295056(0x2ac)]=![]):(_0x366e08=(_0x57400c>>>0x2|_0x57400c<<0x1e)^(_0x57400c>>>0xd|_0x57400c<<0x13)^(_0x57400c>>>0x16|_0x57400c<<0xa),_0x253f7c=(_0x77b057>>>0x6|_0x77b057<<0x1a)^(_0x77b057>>>0xb|_0x77b057<<0x15)^(_0x77b057>>>0x19|_0x77b057<<0x7),_0x357c99=_0x57400c&_0xc56cb5,_0x91c5ae=_0x357c99^_0x57400c&_0xab809^_0x34630d,_0x3f0f55=_0x77b057&_0x16fc00^~_0x77b057&_0x3ede02,_0x2744d0=_0x49a255+_0x253f7c+_0x3f0f55+_0x4ad05c[_0x1b616a]+_0x7a2342[_0x1b616a],_0x40a1fc=_0x366e08+_0x91c5ae,_0x49a255=_0x2025d7+_0x2744d0<<0x0,_0x2025d7=_0x2744d0+_0x40a1fc<<0x0),_0x366e08=(_0x2025d7>>>0x2|_0x2025d7<<0x1e)^(_0x2025d7>>>0xd|_0x2025d7<<0x13)^(_0x2025d7>>>0x16|_0x2025d7<<0xa),_0x253f7c=(_0x49a255>>>0x6|_0x49a255<<0x1a)^(_0x49a255>>>0xb|_0x49a255<<0x15)^(_0x49a255>>>0x19|_0x49a255<<0x7),_0x24df76=_0x2025d7&_0x57400c,_0x91c5ae=_0x24df76^_0x2025d7&_0xc56cb5^_0x357c99,_0x3f0f55=_0x49a255&_0x77b057^~_0x49a255&_0x16fc00,_0x2744d0=_0x3ede02+_0x253f7c+_0x3f0f55+_0x4ad05c[_0x1b616a+0x1]+_0x7a2342[_0x1b616a+0x1],_0x40a1fc=_0x366e08+_0x91c5ae,_0x3ede02=_0xab809+_0x2744d0<<0x0,_0xab809=_0x2744d0+_0x40a1fc<<0x0,_0x366e08=(_0xab809>>>0x2|_0xab809<<0x1e)^(_0xab809>>>0xd|_0xab809<<0x13)^(_0xab809>>>0x16|_0xab809<<0xa),_0x253f7c=(_0x3ede02>>>0x6|_0x3ede02<<0x1a)^(_0x3ede02>>>0xb|_0x3ede02<<0x15)^(_0x3ede02>>>0x19|_0x3ede02<<0x7),_0x2d6ae4=_0xab809&_0x2025d7,_0x91c5ae=_0x2d6ae4^_0xab809&_0x57400c^_0x24df76,_0x3f0f55=_0x3ede02&_0x49a255^~_0x3ede02&_0x77b057,_0x2744d0=_0x16fc00+_0x253f7c+_0x3f0f55+_0x4ad05c[_0x1b616a+0x2]+_0x7a2342[_0x1b616a+0x2],_0x40a1fc=_0x366e08+_0x91c5ae,_0x16fc00=_0xc56cb5+_0x2744d0<<0x0,_0xc56cb5=_0x2744d0+_0x40a1fc<<0x0,_0x366e08=(_0xc56cb5>>>0x2|_0xc56cb5<<0x1e)^(_0xc56cb5>>>0xd|_0xc56cb5<<0x13)^(_0xc56cb5>>>0x16|_0xc56cb5<<0xa),_0x253f7c=(_0x16fc00>>>0x6|_0x16fc00<<0x1a)^(_0x16fc00>>>0xb|_0x16fc00<<0x15)^(_0x16fc00>>>0x19|_0x16fc00<<0x7),_0x34630d=_0xc56cb5&_0xab809,_0x91c5ae=_0x34630d^_0xc56cb5&_0x2025d7^_0x2d6ae4,_0x3f0f55=_0x16fc00&_0x3ede02^~_0x16fc00&_0x49a255,_0x2744d0=_0x77b057+_0x253f7c+_0x3f0f55+_0x4ad05c[_0x1b616a+0x3]+_0x7a2342[_0x1b616a+0x3],_0x40a1fc=_0x366e08+_0x91c5ae,_0x77b057=_0x57400c+_0x2744d0<<0x0,_0x57400c=_0x2744d0+_0x40a1fc<<0x0,this[_0x295056(0x284)]=!![];}this['h0']=this['h0']+_0x57400c<<0x0,this['h1']=this['h1']+_0xc56cb5<<0x0,this['h2']=this['h2']+_0xab809<<0x0,this['h3']=this['h3']+_0x2025d7<<0x0,this['h4']=this['h4']+_0x77b057<<0x0,this['h5']=this['h5']+_0x16fc00<<0x0,this['h6']=this['h6']+_0x3ede02<<0x0,this['h7']=this['h7']+_0x49a255<<0x0;},_0x21a1e1[_0x17bc5b(0x267)]['hex']=function(){const _0x13e4a0=_0x17bc5b;this['finalize']();var _0x40ddb2=this['h0'],_0x4ac413=this['h1'],_0x3d925e=this['h2'],_0x30d3e1=this['h3'],_0x577af7=this['h4'],_0x3c70d8=this['h5'],_0xa22b4b=this['h6'],_0x1f33b4=this['h7'],_0x6ada66=_0x286db3[_0x40ddb2>>>0x1c&0xf]+_0x286db3[_0x40ddb2>>>0x18&0xf]+_0x286db3[_0x40ddb2>>>0x14&0xf]+_0x286db3[_0x40ddb2>>>0x10&0xf]+_0x286db3[_0x40ddb2>>>0xc&0xf]+_0x286db3[_0x40ddb2>>>0x8&0xf]+_0x286db3[_0x40ddb2>>>0x4&0xf]+_0x286db3[_0x40ddb2&0xf]+_0x286db3[_0x4ac413>>>0x1c&0xf]+_0x286db3[_0x4ac413>>>0x18&0xf]+_0x286db3[_0x4ac413>>>0x14&0xf]+_0x286db3[_0x4ac413>>>0x10&0xf]+_0x286db3[_0x4ac413>>>0xc&0xf]+_0x286db3[_0x4ac413>>>0x8&0xf]+_0x286db3[_0x4ac413>>>0x4&0xf]+_0x286db3[_0x4ac413&0xf]+_0x286db3[_0x3d925e>>>0x1c&0xf]+_0x286db3[_0x3d925e>>>0x18&0xf]+_0x286db3[_0x3d925e>>>0x14&0xf]+_0x286db3[_0x3d925e>>>0x10&0xf]+_0x286db3[_0x3d925e>>>0xc&0xf]+_0x286db3[_0x3d925e>>>0x8&0xf]+_0x286db3[_0x3d925e>>>0x4&0xf]+_0x286db3[_0x3d925e&0xf]+_0x286db3[_0x30d3e1>>>0x1c&0xf]+_0x286db3[_0x30d3e1>>>0x18&0xf]+_0x286db3[_0x30d3e1>>>0x14&0xf]+_0x286db3[_0x30d3e1>>>0x10&0xf]+_0x286db3[_0x30d3e1>>>0xc&0xf]+_0x286db3[_0x30d3e1>>>0x8&0xf]+_0x286db3[_0x30d3e1>>>0x4&0xf]+_0x286db3[_0x30d3e1&0xf]+_0x286db3[_0x577af7>>>0x1c&0xf]+_0x286db3[_0x577af7>>>0x18&0xf]+_0x286db3[_0x577af7>>>0x14&0xf]+_0x286db3[_0x577af7>>>0x10&0xf]+_0x286db3[_0x577af7>>>0xc&0xf]+_0x286db3[_0x577af7>>>0x8&0xf]+_0x286db3[_0x577af7>>>0x4&0xf]+_0x286db3[_0x577af7&0xf]+_0x286db3[_0x3c70d8>>>0x1c&0xf]+_0x286db3[_0x3c70d8>>>0x18&0xf]+_0x286db3[_0x3c70d8>>>0x14&0xf]+_0x286db3[_0x3c70d8>>>0x10&0xf]+_0x286db3[_0x3c70d8>>>0xc&0xf]+_0x286db3[_0x3c70d8>>>0x8&0xf]+_0x286db3[_0x3c70d8>>>0x4&0xf]+_0x286db3[_0x3c70d8&0xf]+_0x286db3[_0xa22b4b>>>0x1c&0xf]+_0x286db3[_0xa22b4b>>>0x18&0xf]+_0x286db3[_0xa22b4b>>>0x14&0xf]+_0x286db3[_0xa22b4b>>>0x10&0xf]+_0x286db3[_0xa22b4b>>>0xc&0xf]+_0x286db3[_0xa22b4b>>>0x8&0xf]+_0x286db3[_0xa22b4b>>>0x4&0xf]+_0x286db3[_0xa22b4b&0xf];return!this[_0x13e4a0(0x2c9)]&&(_0x6ada66+=_0x286db3[_0x1f33b4>>>0x1c&0xf]+_0x286db3[_0x1f33b4>>>0x18&0xf]+_0x286db3[_0x1f33b4>>>0x14&0xf]+_0x286db3[_0x1f33b4>>>0x10&0xf]+_0x286db3[_0x1f33b4>>>0xc&0xf]+_0x286db3[_0x1f33b4>>>0x8&0xf]+_0x286db3[_0x1f33b4>>>0x4&0xf]+_0x286db3[_0x1f33b4&0xf]),_0x6ada66;},_0x21a1e1['prototype'][_0x17bc5b(0x27e)]=_0x21a1e1[_0x17bc5b(0x267)][_0x17bc5b(0x247)],_0x21a1e1[_0x17bc5b(0x267)][_0x17bc5b(0x21e)]=function(){const _0x2ab7d8=_0x17bc5b;this[_0x2ab7d8(0x257)]();var _0x10a4b0=this['h0'],_0x29d5e9=this['h1'],_0x4559e8=this['h2'],_0x292658=this['h3'],_0x15384d=this['h4'],_0x36b25d=this['h5'],_0x5699f9=this['h6'],_0x4b3401=this['h7'],_0x47a60c=[_0x10a4b0>>>0x18&0xff,_0x10a4b0>>>0x10&0xff,_0x10a4b0>>>0x8&0xff,_0x10a4b0&0xff,_0x29d5e9>>>0x18&0xff,_0x29d5e9>>>0x10&0xff,_0x29d5e9>>>0x8&0xff,_0x29d5e9&0xff,_0x4559e8>>>0x18&0xff,_0x4559e8>>>0x10&0xff,_0x4559e8>>>0x8&0xff,_0x4559e8&0xff,_0x292658>>>0x18&0xff,_0x292658>>>0x10&0xff,_0x292658>>>0x8&0xff,_0x292658&0xff,_0x15384d>>>0x18&0xff,_0x15384d>>>0x10&0xff,_0x15384d>>>0x8&0xff,_0x15384d&0xff,_0x36b25d>>>0x18&0xff,_0x36b25d>>>0x10&0xff,_0x36b25d>>>0x8&0xff,_0x36b25d&0xff,_0x5699f9>>>0x18&0xff,_0x5699f9>>>0x10&0xff,_0x5699f9>>>0x8&0xff,_0x5699f9&0xff];return!this[_0x2ab7d8(0x2c9)]&&_0x47a60c[_0x2ab7d8(0x1cc)](_0x4b3401>>>0x18&0xff,_0x4b3401>>>0x10&0xff,_0x4b3401>>>0x8&0xff,_0x4b3401&0xff),_0x47a60c;},_0x21a1e1[_0x17bc5b(0x267)]['array']=_0x21a1e1[_0x17bc5b(0x267)][_0x17bc5b(0x21e)],_0x21a1e1[_0x17bc5b(0x267)][_0x17bc5b(0x1e8)]=function(){const _0x1cf594=_0x17bc5b;this['finalize']();var _0x457fdd=new ArrayBuffer(this[_0x1cf594(0x2c9)]?0x1c:0x20),_0x35294f=new DataView(_0x457fdd);return _0x35294f['setUint32'](0x0,this['h0']),_0x35294f[_0x1cf594(0x2e2)](0x4,this['h1']),_0x35294f[_0x1cf594(0x2e2)](0x8,this['h2']),_0x35294f[_0x1cf594(0x2e2)](0xc,this['h3']),_0x35294f[_0x1cf594(0x2e2)](0x10,this['h4']),_0x35294f[_0x1cf594(0x2e2)](0x14,this['h5']),_0x35294f[_0x1cf594(0x2e2)](0x18,this['h6']),!this[_0x1cf594(0x2c9)]&&_0x35294f[_0x1cf594(0x2e2)](0x1c,this['h7']),_0x457fdd;};function _0x39ef38(_0x1bb3b3,_0x458690,_0x238b03){const _0x32a5ad=_0x17bc5b;var _0xc029cb,_0x130100=typeof _0x1bb3b3;if(_0x130100===_0x32a5ad(0x226)){var _0x1c7f09=[],_0x313a8f=_0x1bb3b3['length'],_0x2dd34e=0x0,_0x432728;for(_0xc029cb=0x0;_0xc029cb<_0x313a8f;++_0xc029cb){_0x432728=_0x1bb3b3[_0x32a5ad(0x232)](_0xc029cb);if(_0x432728<0x80)_0x1c7f09[_0x2dd34e++]=_0x432728;else{if(_0x432728<0x800)_0x1c7f09[_0x2dd34e++]=0xc0|_0x432728>>>0x6,_0x1c7f09[_0x2dd34e++]=0x80|_0x432728&0x3f;else _0x432728<0xd800||_0x432728>=0xe000?(_0x1c7f09[_0x2dd34e++]=0xe0|_0x432728>>>0xc,_0x1c7f09[_0x2dd34e++]=0x80|_0x432728>>>0x6&0x3f,_0x1c7f09[_0x2dd34e++]=0x80|_0x432728&0x3f):(_0x432728=0x10000+((_0x432728&0x3ff)<<0xa|_0x1bb3b3[_0x32a5ad(0x232)](++_0xc029cb)&0x3ff),_0x1c7f09[_0x2dd34e++]=0xf0|_0x432728>>>0x12,_0x1c7f09[_0x2dd34e++]=0x80|_0x432728>>>0xc&0x3f,_0x1c7f09[_0x2dd34e++]=0x80|_0x432728>>>0x6&0x3f,_0x1c7f09[_0x2dd34e++]=0x80|_0x432728&0x3f);}}_0x1bb3b3=_0x1c7f09;}else{if(_0x130100==='object'){if(_0x1bb3b3===null)throw new Error(_0x51bb85);else{if(_0x4752f7&&_0x1bb3b3['constructor']===ArrayBuffer)_0x1bb3b3=new Uint8Array(_0x1bb3b3);else{if(!Array[_0x32a5ad(0x28f)](_0x1bb3b3)){if(!_0x4752f7||!ArrayBuffer['isView'](_0x1bb3b3))throw new Error(_0x51bb85);}}}}else throw new Error(_0x51bb85);}_0x1bb3b3[_0x32a5ad(0x1fa)]>0x40&&(_0x1bb3b3=new _0x21a1e1(_0x458690,!![])['update'](_0x1bb3b3)['array']());var _0x2269cd=[],_0x1adeba=[];for(_0xc029cb=0x0;_0xc029cb<0x40;++_0xc029cb){var _0x516647=_0x1bb3b3[_0xc029cb]||0x0;_0x2269cd[_0xc029cb]=0x5c^_0x516647,_0x1adeba[_0xc029cb]=0x36^_0x516647;}_0x21a1e1[_0x32a5ad(0x212)](this,_0x458690,_0x238b03),this[_0x32a5ad(0x266)](_0x1adeba),this['oKeyPad']=_0x2269cd,this[_0x32a5ad(0x25e)]=!![],this['sharedMemory']=_0x238b03;}_0x39ef38[_0x17bc5b(0x267)]=new _0x21a1e1(),_0x39ef38['prototype']['finalize']=function(){const _0x28a8e1=_0x17bc5b;_0x21a1e1['prototype'][_0x28a8e1(0x257)][_0x28a8e1(0x212)](this);if(this[_0x28a8e1(0x25e)]){this[_0x28a8e1(0x25e)]=![];var _0x466ea7=this[_0x28a8e1(0x2d0)]();_0x21a1e1[_0x28a8e1(0x212)](this,this['is224'],this['sharedMemory']),this[_0x28a8e1(0x266)](this[_0x28a8e1(0x206)]),this[_0x28a8e1(0x266)](_0x466ea7),_0x21a1e1[_0x28a8e1(0x267)][_0x28a8e1(0x257)][_0x28a8e1(0x212)](this);}};var _0x3182d8=_0x31f08f();_0x3182d8[_0x17bc5b(0x1cf)]=_0x3182d8,_0x3182d8[_0x17bc5b(0x1d7)]=_0x31f08f(!![]),_0x3182d8[_0x17bc5b(0x1cf)]['hmac']=_0x5680c0(),_0x3182d8['sha224'][_0x17bc5b(0x24e)]=_0x5680c0(!![]),_0x2ce3b1?module[_0x17bc5b(0x213)]=_0x3182d8:(_0x321c51[_0x17bc5b(0x1cf)]=_0x3182d8[_0x17bc5b(0x1cf)],_0x321c51[_0x17bc5b(0x1d7)]=_0x3182d8[_0x17bc5b(0x1d7)],_0x1b9a88&&define(function(){return _0x3182d8;}));}());async function socks5Connect(_0x15f813,_0x13cce8,_0x51b089,_0xf89a96){const _0xa114ca=_0x36e9ff,{username:_0x10cc31,password:_0x33a128,hostname:_0x544f73,port:_0x5be765}=parsedSocks5Address,_0x19fc46=connect({'hostname':_0x544f73,'port':_0x5be765}),_0x41e98a=new Uint8Array([0x5,0x2,0x0,0x2]),_0x45572e=_0x19fc46[_0xa114ca(0x1c9)][_0xa114ca(0x1ed)]();await _0x45572e[_0xa114ca(0x297)](_0x41e98a),_0xf89a96(_0xa114ca(0x2aa));const _0x19349d=_0x19fc46['readable'][_0xa114ca(0x251)](),_0xb8e056=new TextEncoder();let _0x36fae4=(await _0x19349d[_0xa114ca(0x2cb)]())[_0xa114ca(0x201)];if(_0x36fae4[0x0]!==0x5){_0xf89a96('socks\x20server\x20version\x20error:\x20'+_0x36fae4[0x0]+'\x20expected:\x205');return;}if(_0x36fae4[0x1]===0xff){_0xf89a96(_0xa114ca(0x1f7));return;}if(_0x36fae4[0x1]===0x2){_0xf89a96(_0xa114ca(0x1ff));if(!_0x10cc31||!_0x33a128){_0xf89a96(_0xa114ca(0x2c5));return;}const _0x4f2681=new Uint8Array([0x1,_0x10cc31[_0xa114ca(0x1fa)],..._0xb8e056['encode'](_0x10cc31),_0x33a128[_0xa114ca(0x1fa)],..._0xb8e056[_0xa114ca(0x1f8)](_0x33a128)]);await _0x45572e['write'](_0x4f2681),_0x36fae4=(await _0x19349d['read']())[_0xa114ca(0x201)];if(_0x36fae4[0x0]!==0x1||_0x36fae4[0x1]!==0x0){_0xf89a96('fail\x20to\x20auth\x20socks\x20server');return;}}let _0x6c4bd8;switch(_0x15f813){case 0x1:_0x6c4bd8=new Uint8Array([0x1,..._0x13cce8['split']('.')['map'](Number)]);break;case 0x3:_0x6c4bd8=new Uint8Array([0x3,_0x13cce8[_0xa114ca(0x1fa)],..._0xb8e056[_0xa114ca(0x1f8)](_0x13cce8)]);break;case 0x4:_0x6c4bd8=new Uint8Array([0x4,..._0x13cce8[_0xa114ca(0x22a)](':')[_0xa114ca(0x1f6)](_0xb2b609=>[parseInt(_0xb2b609['slice'](0x0,0x2),0x10),parseInt(_0xb2b609[_0xa114ca(0x1e2)](0x2),0x10)])]);break;default:_0xf89a96('invild\x20\x20addressType\x20is\x20'+_0x15f813);return;}const _0x34ec02=new Uint8Array([0x5,0x1,0x0,..._0x6c4bd8,_0x51b089>>0x8,_0x51b089&0xff]);await _0x45572e['write'](_0x34ec02),_0xf89a96(_0xa114ca(0x2eb)),_0x36fae4=(await _0x19349d[_0xa114ca(0x2cb)]())[_0xa114ca(0x201)];if(_0x36fae4[0x1]===0x0)_0xf89a96('socks\x20connection\x20opened');else{_0xf89a96(_0xa114ca(0x2e8));return;}return _0x45572e[_0xa114ca(0x1e6)](),_0x19349d[_0xa114ca(0x1e6)](),_0x19fc46;}function socks5AddressParser(_0x1b245a){const _0x33b9b8=_0x36e9ff;let [_0x3c4d40,_0x304bc7]=_0x1b245a['split']('@')['reverse'](),_0x552492,_0x16c64e,_0x3ea0a2,_0x129c7f;if(_0x304bc7){const _0x4a3695=_0x304bc7[_0x33b9b8(0x22a)](':');if(_0x4a3695[_0x33b9b8(0x1fa)]!==0x2)throw new Error(_0x33b9b8(0x2dd));[_0x552492,_0x16c64e]=_0x4a3695;}const _0x5c6d51=_0x3c4d40[_0x33b9b8(0x22a)](':');_0x129c7f=Number(_0x5c6d51[_0x33b9b8(0x285)]());if(isNaN(_0x129c7f))throw new Error('Invalid\x20SOCKS\x20address\x20format');_0x3ea0a2=_0x5c6d51['join'](':');const _0x303a04=/^\[.*\]$/;if(_0x3ea0a2[_0x33b9b8(0x1e4)](':')&&!_0x303a04['test'](_0x3ea0a2))throw new Error(_0x33b9b8(0x2dd));return{'username':_0x552492,'password':_0x16c64e,'hostname':_0x3ea0a2,'port':_0x129c7f};}function isValidIPv4(_0x1eef55){const _0x6afbdd=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;return _0x6afbdd['test'](_0x1eef55);}